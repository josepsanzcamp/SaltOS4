<?xml version="1.0" encoding="UTF-8" ?>

<!--
 -  ____        _ _    ___  ____    _  _    ___
 - / ___|  __ _| | |_ / _ \/ ___|  | || |  / _ \
 - \___ \ / _` | | __| | | \___ \  | || |_| | | |
 -  ___) | (_| | | |_| |_| |___) | |__   _| |_| |
 - |____/ \__,_|_|\__|\___/|____/     |_|(_)___/
 -
 - SaltOS: Framework to develop Rich Internet Applications
 - Copyright (C) 2007-2023 by Josep Sanz Campderrós
 - More information in https://www.saltos.org or info@saltos.org
 -
 - This program is free software: you can redistribute it and/or modify
 - it under the terms of the GNU General Public License as published by
 - the Free Software Foundation, either version 3 of the License, or
 - (at your option) any later version.
 -
 - This program is distributed in the hope that it will be useful,
 - but WITHOUT ANY WARRANTY; without even the implied warranty of
 - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 - GNU General Public License for more details.
 -
 - You should have received a copy of the GNU General Public License
 - along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!--
This file allow to define the static information that you want to put
in some tables, for example, the main user and group, the apps registered
in the system, the permissions, the combination of permissions with apps
and the main permissions for the user
-->

<root>
    <tables>
        <table name="tbl_apps">
            <row id="1" active="1" code="menu" name="Menu" description="Menu general"/>
            <row id="2" active="1" code="login" name="Login" description="Pantalla login"/>
            <row id="3" active="1" code="tester" name="Tester" description="App para test"/>
            <row id="11" active="1" code="clientes" name="Clientes" description="Aplicacion de clientes" table="app_clientes" field="nombre" has_index="1" has_control="1" has_version="1" has_files="1" has_notes="1"/>
            <row id="12" active="1" code="proveedores" name="Proveedores" description="Aplicacion de proveedores" table="app_proveedores" field="nombre" has_index="1" has_control="1" has_version="1" has_files="1" has_notes="1"/>
            <row id="13" active="1" code="correo" name="Correo" description="Cliente de correo" table="app_correo" field="CONCAT(de,' - ',subject)" subtables="app_correo_a(id_correo)" has_index="1" has_control="1"/>
            <row id="14" active="1" code="facturas" name="Facturas" description="Aplicación de facturas" table="app_facturas" field="CONCAT(nombre,' - ',cif,' - ',num)" subtables="app_facturas_conceptos(id_factura),app_facturas_vencimientos(id_factura)" has_index="1" has_control="1" has_version="1" has_files="1" has_notes="1"/>
        </table>
        <!-- Valid values for owner are 'user', 'group' and 'all' -->
        <table name="tbl_perms">
            <row id="1" active="1" code="menu" name="Mostrar entrada en el menú"/>
            <row id="2" active="1" code="create" name="Crear registros"/>
            <row id="3" active="1" code="widget" name="Mostrar widget"/>
            <row id="11" active="1" code="list" owner="user" name="Listar sólo registros del usuario"/>
            <row id="12" active="1" code="list" owner="group" name="Listar registros del usuario y grupo"/>
            <row id="13" active="1" code="list" owner="all" name="Listar todos los registros"/>
            <row id="21" active="1" code="view" owner="user" name="Ver detalle sólo de los registros del usuario"/>
            <row id="22" active="1" code="view" owner="group" name="Ver detalle de los registros del usuario y grupo"/>
            <row id="23" active="1" code="view" owner="all" name="Ver detalle de todos los registros"/>
            <row id="31" active="1" code="edit" owner="user" name="Modificar sólo los registros del usuario"/>
            <row id="32" active="1" code="edit" owner="group" name="Modificar los registros del usuario y grupo"/>
            <row id="33" active="1" code="edit" owner="all" name="Modificar todos los registros"/>
            <row id="41" active="1" code="delete" owner="user" name="Eliminar sólo los registros del usuario"/>
            <row id="42" active="1" code="delete" owner="group" name="Eliminar los registros del usuario y grupo"/>
            <row id="43" active="1" code="delete" owner="all" name="Eliminar todos los registros"/>
        </table>
        <!-- This part is for devel purposes -->
        <table name="tbl_users">
            <row id="1" active="1" group_id="1" login="admin" name="Admin" description="Admin user" start="00:00:00" end="24:00:00" days="1111111"/>
        </table>
        <table name="tbl_users_passwords">
            <row id="1" active="1" user_id="1" remote_addr="127.0.0.1" user_agent="Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/116.0" password="$2y$10$2BJ1gSSnaBIGmKz.4M8iWeMdcC5Y5MmL8LqE8tv.cR1Lx.r8cl9Cy" expires="9999-99-99 99:99:99"/>
        </table>
        <table name="tbl_users_tokens">
            <row id="1" active="1" user_id="1" remote_addr="127.0.0.1" user_agent="Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/116.0" token="e9f3ebd0-8e73-e4c4-0ebd-7056cf0e70fe" expires="9999-99-99 99:99:99"/>
        </table>
        <table name="tbl_groups">
            <row id="1" active="1" code="admin" name="Admin" description="Admin group"/>
        </table>
        <!-- This part is for devel purposes -->
        <table name="tbl_apps_perms">
            <row app_id="1,2,3" perm_id="1" allow="1" deny="0"/>
            <row app_id="11,12,13,14" perm_id="1,2,3,11,12,13,21,22,23,31,32,33,41,42,43" allow="0" deny="0"/>
        </table>
        <table name="tbl_users_apps_perms">
            <row user_id="1" app_id="11,12,13,14" perm_id="1,2,3,11,12,13,21,22,23,31,32,33,41,42,43" allow="1" deny="0"/>
        </table>
        <table name="tbl_groups_apps_perms">
            <row group_id="1" app_id="11,12,13,14" perm_id="1,2,3,11,12,13,21,22,23,31,32,33,41,42,43" allow="1" deny="0"/>
        </table>
    </tables>
</root>
