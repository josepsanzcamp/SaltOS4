saltos.invoices={},saltos.invoices.init=e=>{"view"==e&&document.querySelectorAll(".detail button, .footer button").forEach(e=>{e.closest(".col-auto").remove()}),["create","edit"].includes(e)&&(document.querySelectorAll("[id*=unidades], [id*=precio], [id*=descuento]").forEach(e=>{e.removeEventListener("change",saltos.invoices.compute_total),e.addEventListener("change",saltos.invoices.compute_total)}),document.querySelectorAll("[id*=total], #total").forEach(e=>{e.setAttribute("disabled","")}))},saltos.invoices.compute_total=()=>{var o=0;document.querySelectorAll(".detail").forEach(e=>{var t;null!==e.querySelector("[id*=unidades]")&&(t=e.querySelector("[id*=unidades]").value*e.querySelector("[id*=precio]").value*(1-e.querySelector("[id*=descuento]").value/100),t=Math.round(100*t)/100,e.querySelector("[id*=total]").value=t,o+=t)}),document.getElementById("total").value=o},saltos.invoices.add_item=()=>{saltos.app.form.__backup.restore("two,one");var e=saltos.app.form.__layout_template_helper("detail",saltos.core.uniqid()),e=saltos.app.form.layout(e,"div");document.querySelector(".footer").before(e),saltos.invoices.init("edit")},saltos.invoices.remove_item=e=>{Array.prototype.slice.call(e.closest(".row").childNodes).forEach(e=>{e.classList.contains("d-none")&&""!=e.querySelector("input").value?e.querySelector("input").value*=-1:e.remove()}),saltos.invoices.compute_total()};
//# sourceMappingURL=invoices.min.js.map