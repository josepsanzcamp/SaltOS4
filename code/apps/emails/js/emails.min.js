saltos.emails={},saltos.emails.server=()=>{saltos.app.ajax({url:"app/emails/action/server",success:s=>{for(var a in s)saltos.app.toast("Response",s[a]);saltos.window.send("saltos.emails.update")}})},saltos.emails.delete1=()=>{var s=saltos.app.checkbox_ids(document.getElementById("list").parentElement);s.length?(s=s.join(","),saltos.app.modal("Delete emails???","Do you want to delete the selected emails???",{buttons:[{label:"Yes",color:"success",icon:"check-lg",autofocus:!0,onclick:()=>{saltos.app.ajax({url:"app/emails/delete/"+s,success:s=>{saltos.app.toast("Response",s.text),saltos.window.send("saltos.emails.update")}})}},{label:"No",color:"danger",icon:"x-lg",onclick:()=>{}}],color:"danger"})):saltos.app.modal("Select emails","You must select the desired emails to be deleted",{color:"warning"})},saltos.emails.delete2=()=>{saltos.app.modal("Delete this email???","Do you want to delete this email???",{buttons:[{label:"Yes",color:"success",icon:"check-lg",autofocus:!0,onclick:()=>{var s=saltos.hash.get().split("/").at(3);saltos.app.ajax({url:"app/emails/delete/"+s,success:s=>{saltos.app.toast("Response",s.text),saltos.window.send("saltos.emails.update"),saltos.driver.close()}})}},{label:"No",color:"danger",icon:"x-lg",onclick:()=>{}}],color:"danger"})},saltos.emails.send=()=>{var s,a,e;saltos.app.form.__backup.restore("two,one"),saltos.app.check_required()?(s=saltos.app.get_data(!0),a=void 0===(a=saltos.hash.get().split("/").at(3))?"":"/"+a,e=void 0===(e=saltos.hash.get().split("/").at(4))?"":"/"+e,saltos.app.ajax({url:"app/emails/create/sendmail"+a+e,data:s,success:s=>{"ok"==s.status?(saltos.app.toast("Response",s.text),saltos.window.send("saltos.emails.update"),saltos.driver.close()):"ko"==s.status?saltos.app.toast("Response",s.text,{color:"danger"}):saltos.app.show_error(s)}})):saltos.app.toast("Warning","Required fields not found",{color:"danger"})},saltos.emails.setter=s=>{var a=saltos.hash.get().split("/").at(3);saltos.app.ajax({url:"app/emails/view/setter/"+a,data:{what:s},success:s=>{saltos.app.toast("Response",s.text),saltos.window.send("saltos.emails.update"),saltos.hash.trigger()}})},saltos.emails.signature=()=>{var s=saltos.emails.old_account,a=document.getElementById("from").value,e=document.getElementById("body").value,t=document.getElementById("cc").value,o=document.getElementById("state_crt").value;saltos.emails.old_account=a,saltos.app.ajax({url:"app/emails/create/signature",data:{old:s,new:a,body:e,cc:t,state_crt:o},success:s=>{saltos.app.form.data(s.data)}})},saltos.core.when_visible("from",()=>{saltos.emails.old_account=document.getElementById("from").value});
//# sourceMappingURL=emails.min.js.map