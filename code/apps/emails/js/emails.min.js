saltos.emails={},saltos.emails.server=()=>{saltos.app.ajax({url:"app/emails/action/server",success:s=>{for(var e in s)saltos.app.toast("Response",s[e]);saltos.window.send("saltos.emails.update")}})},saltos.emails.delete1=()=>{var s=saltos.app.checkbox_ids(document.getElementById("list").parentElement);s.length?(s=s.join(","),saltos.app.modal("Delete emails???","Do you want to delete the selected emails???",{buttons:[{label:"Yes",color:"success",icon:"check-lg",autofocus:!0,onclick:()=>{saltos.app.ajax({url:"app/emails/delete/"+s,success:s=>{saltos.app.toast("Response",s.text),saltos.window.send("saltos.emails.update")}})}},{label:"No",color:"danger",icon:"x-lg",onclick:()=>{}}],color:"danger"})):saltos.app.modal("Select emails","You must select the desired emails to be deleted",{color:"warning"})},saltos.emails.delete2=()=>{saltos.app.modal("Delete this email???","Do you want to delete this email???",{buttons:[{label:"Yes",color:"success",icon:"check-lg",autofocus:!0,onclick:()=>{var s=saltos.hash.get().split("/").at(3);saltos.app.ajax({url:"app/emails/delete/"+s,success:s=>{saltos.app.toast("Response",s.text),saltos.window.send("saltos.emails.update"),saltos.driver.close()}})}},{label:"No",color:"danger",icon:"x-lg",onclick:()=>{}}],color:"danger"})},saltos.emails.send=()=>{var s,e,a;saltos.app.form.__backup.restore("two,one"),saltos.app.check_required()?(s=saltos.app.get_data(!0),e=void 0===(e=saltos.hash.get().split("/").at(3))?"":"/"+e,a=void 0===(a=saltos.hash.get().split("/").at(4))?"":"/"+a,saltos.app.ajax({url:"app/emails/create/sendmail"+e+a,data:s,success:s=>{"ok"==s.status?(saltos.app.toast("Response",s.text),saltos.window.send("saltos.emails.update"),saltos.driver.close()):"ko"==s.status?saltos.app.toast("Response",s.text,{color:"danger"}):saltos.app.show_error(s)}})):saltos.app.toast("Warning","Required fields not found",{color:"danger"})},saltos.emails.setter=s=>{var e=saltos.hash.get().split("/").at(3);saltos.app.ajax({url:"app/emails/view/setter/"+e,data:{what:s},success:s=>{saltos.app.toast("Response",s.text),saltos.window.send("saltos.emails.update"),saltos.hash.trigger()}})},saltos.emails.signature=()=>{var s=saltos.emails.old_account,e=document.getElementById("from").value,a=document.getElementById("body").value,t=document.getElementById("cc").value,l=document.getElementById("state_crt").value;saltos.emails.old_account=e,saltos.app.ajax({url:"app/emails/create/signature",data:{old:s,new:e,body:a,cc:t,state_crt:l},success:s=>{saltos.app.form.data(s.data)}})},saltos.emails.viewpdf=()=>{var s=saltos.app.checkbox_ids(document.getElementById("list").parentElement);s.length?(s=s.join(","),saltos.driver.open("app/emails/view/viewpdf/"+s)):saltos.app.modal("Select emails","You must select the desired emails that you want see in the PDF file",{color:"warning"})},saltos.emails.download=()=>{var s=saltos.app.checkbox_ids(document.getElementById("list").parentElement);s.length?(s=s.join(","),saltos.app.download("app/emails/view/download/"+s)):saltos.app.modal("Select emails","You must select the desired emails that you want download in the PDF file",{color:"warning"})},saltos.core.when_visible("from",()=>{saltos.emails.old_account=document.getElementById("from").value});
//# sourceMappingURL=emails.min.js.map