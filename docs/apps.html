<!DOCTYPE html>
<html>
<head>
<title>Application Documentation</title>
<meta name="generator" content="http://txt2tags.org">
<style>
body{background-color:#fff;color:#000;}
hr{background-color:#000;border:0;color:#000;}
hr.heavy{height:5px;}
hr.light{height:1px;}
img{border:0;display:block;}
img.right{margin:0 0 0 auto;}
img.center{border:0;margin:0 auto;}
table th,table td{padding:4px;}
.center,header{text-align:center;}
table.center {margin-left:auto; margin-right:auto;}
.right{text-align:right;}
.left{text-align:left;}
.tableborder,.tableborder td,.tableborder th{border:1px solid #000;}
.underline{text-decoration:underline;}
pre{background-color:#e6e6e6;padding:5px 3px}
</style>
</head>
<body>
<header>
<hgroup>
<h1>Application Documentation</h1>
<h2>SaltOS 4.0 r760</h2>
<h3>March 2024</h3>
</hgroup>
</header>
<article>

<nav>
<div class="body" id="body">

  <ul>
  <li><a href="#toc1">1. Javascript</a>
    <ul>
    <li><a href="#toc2">1.1. Customers application</a>
      <ul>
      <li><a href="#toc3">1.1.1. Main object</a>
      </li>
      <li><a href="#toc4">1.1.2. TODO</a>
      </li>
      <li><a href="#toc5">1.1.3. TODO</a>
      </li>
      <li><a href="#toc6">1.1.4. TODO</a>
      </li>
      <li><a href="#toc7">1.1.5. TODO</a>
      </li>
      <li><a href="#toc8">1.1.6. TODO</a>
      </li>
      <li><a href="#toc9">1.1.7. TODO</a>
      </li>
      <li><a href="#toc10">1.1.8. TODO</a>
      </li>
      <li><a href="#toc11">1.1.9. TODO</a>
      </li>
      <li><a href="#toc12">1.1.10. TODO</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc13">1.2. Dashboard application</a>
      <ul>
      <li><a href="#toc14">1.2.1. Main object</a>
      </li>
      <li><a href="#toc15">1.2.2. TODO</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc16">1.3. Email application</a>
      <ul>
      <li><a href="#toc17">1.3.1. Main object</a>
      </li>
      <li><a href="#toc18">1.3.2. Initialize emails app</a>
      </li>
      <li><a href="#toc19">1.3.3. TODO</a>
      </li>
      <li><a href="#toc20">1.3.4. TODO</a>
      </li>
      <li><a href="#toc21">1.3.5. TODO</a>
      </li>
      <li><a href="#toc22">1.3.6. TODO</a>
      </li>
      <li><a href="#toc23">1.3.7. TODO</a>
      </li>
      <li><a href="#toc24">1.3.8. TODO</a>
      </li>
      <li><a href="#toc25">1.3.9. TODO</a>
      </li>
      <li><a href="#toc26">1.3.10. TODO</a>
      </li>
      <li><a href="#toc27">1.3.11. TODO</a>
      </li>
      </ul>
    </li>
    </ul>
  </li>
  <li><a href="#toc28">2. Emails</a>
    <ul>
    <li><a href="#toc29">2.1. Get email library</a>
      <ul>
      <li><a href="#toc30">2.1.1. Requires section</a>
      </li>
      <li><a href="#toc31">2.1.2. Defines section</a>
      </li>
      <li><a href="#toc32">2.1.3. Remove all body</a>
      </li>
      <li><a href="#toc33">2.1.4. Process message</a>
      </li>
      <li><a href="#toc34">2.1.5. Process plain html</a>
      </li>
      <li><a href="#toc35">2.1.6. Process file</a>
      </li>
      <li><a href="#toc36">2.1.7. Check permissions</a>
      </li>
      <li><a href="#toc37">2.1.8. Get source</a>
      </li>
      <li><a href="#toc38">2.1.9. Mime decode protected</a>
      </li>
      <li><a href="#toc39">2.1.10. Get mime</a>
      </li>
      <li><a href="#toc40">2.1.11. Get Node</a>
      </li>
      <li><a href="#toc41">2.1.12. Get type</a>
      </li>
      <li><a href="#toc42">2.1.13. Get disposition</a>
      </li>
      <li><a href="#toc43">2.1.14. Get files</a>
      </li>
      <li><a href="#toc44">2.1.15. Get human size</a>
      </li>
      <li><a href="#toc45">2.1.16. Get info</a>
      </li>
      <li><a href="#toc46">2.1.17. Fix string</a>
      </li>
      <li><a href="#toc47">2.1.18. Get text body</a>
      </li>
      <li><a href="#toc48">2.1.19. Get full body</a>
      </li>
      <li><a href="#toc49">2.1.20. Get cid</a>
      </li>
      <li><a href="#toc50">2.1.21. Insert</a>
      </li>
      <li><a href="#toc51">2.1.22. Update</a>
      </li>
      <li><a href="#toc52">2.1.23. Raw url decode</a>
      </li>
      <li><a href="#toc53">2.1.24. Add bcc</a>
      </li>
      <li><a href="#toc54">2.1.25. Gzfile size</a>
      </li>
      <li><a href="#toc55">2.1.26. Get email body</a>
      </li>
      <li><a href="#toc56">2.1.27. Get email source</a>
      </li>
      <li><a href="#toc57">2.1.28. Get email files</a>
      </li>
      <li><a href="#toc58">2.1.29. Get cid</a>
      </li>
      <li><a href="#toc59">2.1.30. Is outbox</a>
      </li>
      <li><a href="#toc60">2.1.31. Receive</a>
      </li>
      <li><a href="#toc61">2.1.32. Delete</a>
      </li>
      <li><a href="#toc62">2.1.33. Get viewpdf</a>
      </li>
      <li><a href="#toc63">2.1.34. Get download</a>
      </li>
      <li><a href="#toc64">2.1.35. TODO</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc65">2.2. Send email library</a>
      <ul>
      <li><a href="#toc66">2.2.1. Used libraries</a>
      </li>
      <li><a href="#toc67">2.2.2. Sendmail</a>
      </li>
      <li><a href="#toc68">2.2.3. Parser</a>
      </li>
      <li><a href="#toc69">2.2.4. Message Id</a>
      </li>
      <li><a href="#toc70">2.2.5. Eml saver</a>
      </li>
      <li><a href="#toc71">2.2.6. Obj saver</a>
      </li>
      </ul>
    </li>
    </ul>
  </li>
  <li><a href="#toc72">3. Javascript</a>
    <ul>
    <li><a href="#toc73">3.1. invoices application</a>
      <ul>
      <li><a href="#toc74">3.1.1. Main object</a>
      </li>
      <li><a href="#toc75">3.1.2. TODO</a>
      </li>
      <li><a href="#toc76">3.1.3. TODO</a>
      </li>
      <li><a href="#toc77">3.1.4. TODO</a>
      </li>
      <li><a href="#toc78">3.1.5. TODO</a>
      </li>
      <li><a href="#toc79">3.1.6. TODO</a>
      </li>
      <li><a href="#toc80">3.1.7. TODO</a>
      </li>
      <li><a href="#toc81">3.1.8. TODO</a>
      </li>
      <li><a href="#toc82">3.1.9. TODO</a>
      </li>
      <li><a href="#toc83">3.1.10. TODO</a>
      </li>
      <li><a href="#toc84">3.1.11. TODO</a>
      </li>
      <li><a href="#toc85">3.1.12. TODO</a>
      </li>
      <li><a href="#toc86">3.1.13. TODO</a>
      </li>
      <li><a href="#toc87">3.1.14. TODO</a>
      </li>
      <li><a href="#toc88">3.1.15. TODO</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc89">3.2. Login application</a>
      <ul>
      <li><a href="#toc90">3.2.1. Main object</a>
      </li>
      <li><a href="#toc91">3.2.2. Authenticate login function</a>
      </li>
      <li><a href="#toc92">3.2.3. Access denied</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc93">3.3. Tester application</a>
      <ul>
      <li><a href="#toc94">3.3.1. Tester object</a>
      </li>
      <li><a href="#toc95">3.3.2. Campo 8</a>
      </li>
      <li><a href="#toc96">3.3.3. Campo 9</a>
      </li>
      <li><a href="#toc97">3.3.4. Campo 10</a>
      </li>
      <li><a href="#toc98">3.3.5. Campo 11</a>
      </li>
      <li><a href="#toc99">3.3.6. Campo 22</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc100">3.4. Tester application</a>
      <ul>
      <li><a href="#toc101">3.4.1. Main code</a>
      </li>
      </ul>
    </li>
    </ul>
  </li>
  <li><a href="#toc102">4. Tester</a>
    <ul>
    <li><a href="#toc103">4.1. TODO</a>
    </li>
    <li><a href="#toc104">4.2. TODO</a>
    </li>
    <li><a href="#toc105">4.3. TODO</a>
    </li>
    </ul>
  </li>
  <li><a href="#toc106">5. Javascript</a>
    <ul>
    <li><a href="#toc107">5.1. Types application</a>
      <ul>
      <li><a href="#toc108">5.1.1. Main object</a>
      </li>
      <li><a href="#toc109">5.1.2. Initialize types</a>
      </li>
      <li><a href="#toc110">5.1.3. TODO</a>
      </li>
      <li><a href="#toc111">5.1.4. TODO</a>
      </li>
      <li><a href="#toc112">5.1.5. TODO</a>
      </li>
      <li><a href="#toc113">5.1.6. TODO</a>
      </li>
      <li><a href="#toc114">5.1.7. TODO</a>
      </li>
      <li><a href="#toc115">5.1.8. TODO</a>
      </li>
      <li><a href="#toc116">5.1.9. TODO</a>
      </li>
      <li><a href="#toc117">5.1.10. TODO</a>
      </li>
      <li><a href="#toc118">5.1.11. TODO</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc119">5.2. types application</a>
      <ul>
      <li><a href="#toc120">5.2.1. Main object</a>
      </li>
      <li><a href="#toc121">5.2.2. Initialize types</a>
      </li>
      <li><a href="#toc122">5.2.3. TODO</a>
      </li>
      <li><a href="#toc123">5.2.4. TODO</a>
      </li>
      <li><a href="#toc124">5.2.5. TODO</a>
      </li>
      <li><a href="#toc125">5.2.6. TODO</a>
      </li>
      <li><a href="#toc126">5.2.7. TODO</a>
      </li>
      <li><a href="#toc127">5.2.8. TODO</a>
      </li>
      <li><a href="#toc128">5.2.9. TODO</a>
      </li>
      <li><a href="#toc129">5.2.10. TODO</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc130">5.3. Types application</a>
      <ul>
      <li><a href="#toc131">5.3.1. Main object</a>
      </li>
      <li><a href="#toc132">5.3.2. Initialize types</a>
      </li>
      <li><a href="#toc133">5.3.3. TODO</a>
      </li>
      <li><a href="#toc134">5.3.4. TODO</a>
      </li>
      <li><a href="#toc135">5.3.5. TODO</a>
      </li>
      <li><a href="#toc136">5.3.6. TODO</a>
      </li>
      <li><a href="#toc137">5.3.7. TODO</a>
      </li>
      <li><a href="#toc138">5.3.8. TODO</a>
      </li>
      <li><a href="#toc139">5.3.9. TODO</a>
      </li>
      <li><a href="#toc140">5.3.10. TODO</a>
      </li>
      <li><a href="#toc141">5.3.11. TODO</a>
      </li>
      </ul>
    </li>
    </ul>
  </li>
  </ul>

</div>
</nav>
<div class="body" id="body">

<section id="toc1">
<h1>1. Javascript</h1>

<section id="toc2">
<h2>1.1. Customers application</h2>

<pre>
apps/customers/js/app.js
</pre>

<p>
This application implements the tipical features associated to customers
</p>

<section id="toc3">
<h3>1.1.1. Main object</h3>

<pre>
saltos.customers = {};
</pre>

<p>
This object contains all SaltOS code
</p>

</section>
<section id="toc4">
<h3>1.1.2. TODO</h3>

<pre>
saltos.customers.initialize_update_list = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc5">
<h3>1.1.3. TODO</h3>

<pre>
saltos.customers.initialize_update_view = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc6">
<h3>1.1.4. TODO</h3>

<pre>
saltos.customers.search = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc7">
<h3>1.1.5. TODO</h3>

<pre>
saltos.customers.reset = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc8">
<h3>1.1.6. TODO</h3>

<pre>
saltos.customers.more = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc9">
<h3>1.1.7. TODO</h3>

<pre>
saltos.customers.insert = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc10">
<h3>1.1.8. TODO</h3>

<pre>
saltos.customers.update = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc11">
<h3>1.1.9. TODO</h3>

<pre>
saltos.customers.delete1 = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc12">
<h3>1.1.10. TODO</h3>

<pre>
saltos.customers.delete2 = ()
</pre>

<p>
TODO
</p>

</section>
</section>
<section id="toc13">
<h2>1.2. Dashboard application</h2>

<pre>
apps/dashboard/js/app.js
</pre>

<p>
This application implements the tipical features associated to dashboard
</p>

<section id="toc14">
<h3>1.2.1. Main object</h3>

<pre>
saltos.dashboard = {};
</pre>

<p>
This object contains all SaltOS code
</p>

</section>
<section id="toc15">
<h3>1.2.2. TODO</h3>

<pre>
saltos.dashboard.initialize = ()
</pre>

<p>
TODO
</p>

</section>
</section>
<section id="toc16">
<h2>1.3. Email application</h2>

<pre>
apps/emails/js/app.js
</pre>

<p>
This application implements the tipical features associated to emails
</p>

<section id="toc17">
<h3>1.3.1. Main object</h3>

<pre>
saltos.emails = {};
</pre>

<p>
This object contains all SaltOS code
</p>

</section>
<section id="toc18">
<h3>1.3.2. Initialize emails app</h3>

<pre>
saltos.emails.initialize = ()
</pre>

<p>
This function initializes the emails app screen to improve the user experience.
</p>

</section>
<section id="toc19">
<h3>1.3.3. TODO</h3>

<pre>
saltos.emails.search = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc20">
<h3>1.3.4. TODO</h3>

<pre>
saltos.emails.reset = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc21">
<h3>1.3.5. TODO</h3>

<pre>
saltos.emails.more = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc22">
<h3>1.3.6. TODO</h3>

<pre>
saltos.emails.getmail = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc23">
<h3>1.3.7. TODO</h3>

<pre>
saltos.emails.delete1 = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc24">
<h3>1.3.8. TODO</h3>

<pre>
saltos.emails.delete2 = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc25">
<h3>1.3.9. TODO</h3>

<pre>
saltos.emails.send = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc26">
<h3>1.3.10. TODO</h3>

<pre>
saltos.emails.download = (file)
</pre>

<p>
TODO
</p>

</section>
<section id="toc27">
<h3>1.3.11. TODO</h3>

<pre>
saltos.emails.setter = what
</pre>

<p>
TODO
</p>

</section>
</section>
</section>
<section id="toc28">
<h1>2. Emails</h1>

<section id="toc29">
<h2>2.1. Get email library</h2>

<pre>
apps/emails/php/getmail.php
</pre>

<p>
This library provides the necesary functions to download, parse and manage emails.
</p>

<section id="toc30">
<h3>2.1.1. Requires section</h3>

<pre>
require_once "apps/emails/lib/mimeparser/mime_parser.php";
</pre>

<p>
This requires loads the external libraries needed to run this library.
</p>

</section>
<section id="toc31">
<h3>2.1.2. Defines section</h3>

<pre>
define("__HTML_PAGE_OPEN__", '&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;style type="text/css"&gt;body{margin:0px;padding:6px 12px;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;');
</pre>

<p>
This defines allow to define some usefull standards to do html pages and more.
</p>

</section>
<section id="toc32">
<h3>2.1.3. Remove all body</h3>

<pre>
function __getmail_removebody($array)
</pre>

<p>
This function removes the body entry in the array, it is only for debug purposes
</p>

<ul>
<li>@aarray =&gt; The array that you want to process
</li>
</ul>

</section>
<section id="toc33">
<h3>2.1.4. Process message</h3>

<pre>
function __getmail_processmessage($disp, $type)
</pre>

<p>
This function returns a boolean that identify if the disposition and the type
allow the node to be processed.
</p>

<ul>
<li>@disp =&gt; disposition, can be inline or attachment
</li>
<li>@type =&gt; type, can be message, html or plain
</li>
</ul>

</section>
<section id="toc34">
<h3>2.1.5. Process plain html</h3>

<pre>
function __getmail_processplainhtml($disp, $type)
</pre>

<p>
This function returns a boolean that identify if the disposition and the type
allow the node to be processed.
</p>

<ul>
<li>@disp =&gt; disposition, can be inline or attachment
</li>
<li>@type =&gt; type, can be message, html or plain
</li>
</ul>

</section>
<section id="toc35">
<h3>2.1.6. Process file</h3>

<pre>
function __getmail_processfile($disp, $type)
</pre>

<p>
This function returns a boolean that identify if the disposition and the type
allow the node to be processed.
</p>

<ul>
<li>@disp =&gt; disposition, can be inline or attachment
</li>
<li>@type =&gt; type, can be message, html or plain
</li>
</ul>

</section>
<section id="toc36">
<h3>2.1.7. Check permissions</h3>

<pre>
function __getmail_checkperm($id)
</pre>

<p>
This function allow to check if the current user has permissions to view the
message identified by the id argument
</p>

<ul>
<li>@id =&gt; id of the email
</li>
</ul>

</section>
<section id="toc37">
<h3>2.1.8. Get source</h3>

<pre>
function __getmail_getsource($id, $max = 0)
</pre>

<p>
This function returns the original RFC822 message as string
</p>

<ul>
<li>@id  =&gt; id of the email
</li>
<li>@max =&gt; max size that can be processed
</li>
</ul>

</section>
<section id="toc38">
<h3>2.1.9. Mime decode protected</h3>

<pre>
function __getmail_mime_decode_protected($input)
</pre>

<p>
This function decodes the input string that contains the RFC822 message
using the mime_parser_class to do it, and returns the decoded array.
</p>

<ul>
<li>@input =&gt; the RFC822 string that contains the message
</li>
</ul>

</section>
<section id="toc39">
<h3>2.1.10. Get mime</h3>

<pre>
function __getmail_getmime($id)
</pre>

<p>
This function returns the decoded array of the email identified by the id
argument, to do this more optimal, this function uses an internal cache
file to improve the performance for repeated executions.
</p>

<ul>
<li>@id =&gt; id of the email
</li>
</ul>

</section>
<section id="toc40">
<h3>2.1.11. Get Node</h3>

<pre>
function __getmail_getnode($path, $array)
</pre>

<p>
This function returns the node using a xpath notation
</p>

<ul>
<li>@path  =&gt; xpath that identify the desired path that must to be returned
</li>
<li>@array =&gt; the decoded message in an array format
</li>
</ul>

</section>
<section id="toc41">
<h3>2.1.12. Get type</h3>

<pre>
function __getmail_gettype($array)
</pre>

<p>
This function tries to unify the differents content-type to standarize it into
the follow formats: html, plain, messsage, alternative, multipart or other.
</p>

<ul>
<li>@array =&gt; the decoded message in an array format
</li>
</ul>

</section>
<section id="toc42">
<h3>2.1.13. Get disposition</h3>

<pre>
function __getmail_getdisposition($array)
</pre>

<p>
This function tries to unify the differents content-dispoaition to standarize
it into the follow formats: attachment, inline or other.
</p>

<ul>
<li>@array =&gt; the decoded message in an array format
</li>
</ul>

</section>
<section id="toc43">
<h3>2.1.14. Get files</h3>

<pre>
function __getmail_getfiles($array, $level = 0)
</pre>

<p>
This function returns an array with the attachment files of the message
</p>

<ul>
<li>@array =&gt; the decoded message in an array format
</li>
<li>@level =&gt; this parameter is internally used to detect recursion
</li>
</ul>

</section>
<section id="toc44">
<h3>2.1.15. Get human size</h3>

<pre>
function __getmail_gethumansize($size)
</pre>

<p>
This function returns an string containing the size in human format
</p>

<ul>
<li>@size =&gt; the number of bytes to convert to human format
</li>
</ul>

</section>
<section id="toc45">
<h3>2.1.16. Get info</h3>

<pre>
function __getmail_getinfo($array)
</pre>

<p>
Returns all information of the decoded message in a structured format
</p>

<ul>
<li>@array =&gt; the decoded message in an array format
</li>
</ul>

</section>
<section id="toc46">
<h3>2.1.17. Fix string</h3>

<pre>
function __getmail_fixstring($arg)
</pre>

<p>
This function is a helper used by all functions that pcoesses the headers
of the decoded message.
</p>

<ul>
<li>@arg =&gt; the string that must to be checked and fixed if needed
</li>
</ul>

</section>
<section id="toc47">
<h3>2.1.18. Get text body</h3>

<pre>
function __getmail_gettextbody($array, $level = 0)
</pre>

<p>
This function returns all text body concatenated as an unique string
</p>

<ul>
<li>@array =&gt; the decoded message in an array format
</li>
<li>@level =&gt; this parameter is internally used to detect recursion
</li>
</ul>

</section>
<section id="toc48">
<h3>2.1.19. Get full body</h3>

<pre>
function __getmail_getfullbody($array)
</pre>

<p>
This function returns all body and attachments information as an array
</p>

<ul>
<li>@array =&gt; the decoded message in an array format
</li>
</ul>

</section>
<section id="toc49">
<h3>2.1.20. Get cid</h3>

<pre>
function __getmail_getcid($array, $hash)
</pre>

<p>
This function returns the requested attachment indentified by the hash argument
</p>

<ul>
<li>@array =&gt; the decoded message in an array format
</li>
<li>@hash  =&gt; the hash of the content requested
</li>
</ul>

</section>
<section id="toc50">
<h3>2.1.21. Insert</h3>

<pre>
function __getmail_insert(
</pre>

<p>
This function do the insert in the app_emails table, and
</p>

<ul>
<li>@file          =&gt; the gzfile that contains the message in RFC822 format
</li>
<li>@messageid     =&gt; the id of the message (account_id/uidl)
</li>
<li>@state_new     =&gt; the 0/1 that sets the state new flag
</li>
<li>@state_reply   =&gt; the 0/1 that sets the state reply flag
</li>
<li>@state_forward =&gt; the 0/1 that sets the state forward flag
</li>
<li>@state_wait    =&gt; the 0/1 that sets the state wait flag
</li>
<li>@id_correo     =&gt; the id of the related email (used to create relations between emails)
</li>
<li>@is_outbox     =&gt; the 0/1 that sets the is outbox flag
</li>
<li>@state_sent    =&gt; the 0/1 that sets the state sent flag
</li>
<li>@state_error   =&gt; the string that contains the error (if exists an error)
</li>
</ul>

</section>
<section id="toc51">
<h3>2.1.22. Update</h3>

<pre>
function __getmail_update($field, $value, $id)
</pre>

<p>
This function updates the field with the value of the app_emails for the
register identified by the id argument.
</p>

<ul>
<li>@field =&gt; field that you want to update
</li>
<li>@value =&gt; value that you want to set
</li>
<li>@id    =&gt; id of the register to do the update
</li>
</ul>

</section>
<section id="toc52">
<h3>2.1.23. Raw url decode</h3>

<pre>
function __getmail_rawurldecode($temp)
</pre>

<p>
This function tries to detect if the argument contains the %20 string
to try to detect url encoded strings and fix it if is needed
</p>

<ul>
<li>@temp =&gt; the string that you want to check and fix
</li>
</ul>

</section>
<section id="toc53">
<h3>2.1.24. Add bcc</h3>

<pre>
function __getmail_add_bcc($id, $bcc)
</pre>

<p>
This function adds the bbc to the database, this is because the messages
does not contains the bcc field (is hidden in theory), and only is available
if the current execution is the sender of the message.
</p>

<ul>
<li>@id  =&gt; id of the email
</li>
<li>@bcc =&gt; an array with the addresses of the emails
</li>
</ul>

</section>
<section id="toc54">
<h3>2.1.25. Gzfile size</h3>

<pre>
function gzfilesize($filename)
</pre>

<p>
This function is copied from <a href="http://php.net/manual/es/function.gzread.php#110078">http://php.net/manual/es/function.gzread.php#110078</a>
and allow to know the file size of the file after a gzip descompression.
</p>

<ul>
<li>@filename =&gt; the gzip filename that you want to know the size
</li>
</ul>

</section>
<section id="toc55">
<h3>2.1.26. Get email body</h3>

<pre>
function getmail_body($id)
</pre>

<p>
This function returns the string that contains the body of the email
intended to be rendered in an iframe, for example
</p>

<ul>
<li>@id =&gt; id of the email
</li>
</ul>

</section>
<section id="toc56">
<h3>2.1.27. Get email source</h3>

<pre>
function getmail_source($id)
</pre>

<p>
This function returns the string that contains the source of the email
intended to be rendered in an iframe, for example
</p>

<ul>
<li>@id =&gt; id of the email
</li>
</ul>

</section>
<section id="toc57">
<h3>2.1.28. Get email files</h3>

<pre>
function getmail_files($id)
</pre>

<p>
This function returns an arryy that contains the files of the email
intended to be rendered in an table, for example
</p>

<ul>
<li>@id =&gt; id of the email
</li>
</ul>

</section>
<section id="toc58">
<h3>2.1.29. Get cid</h3>

<pre>
function getmail_cid($id, $cid)
</pre>

<p>
This function returns the requested attachment indentified by the cid argument
</p>

<ul>
<li>@id  =&gt; id of the email
</li>
<li>@cid =&gt; the cid of the content requested
</li>
</ul>

</section>
<section id="toc59">
<h3>2.1.30. Is outbox</h3>

<pre>
function getmail_field($field, $id)
</pre>

<p>
Returns the field of the email identified by the id argument
</p>

<ul>
<li>@field =&gt; field requested
</li>
<li>@id    =&gt; id of the email
</li>
</ul>

</section>
<section id="toc60">
<h3>2.1.31. Receive</h3>

<pre>
function getmail_receive()
</pre>

<p>
This function implements the old getmail action of the old saltos.
</p>

</section>
<section id="toc61">
<h3>2.1.32. Delete</h3>

<pre>
function getmail_delete($ids)
</pre>

<p>
This function implements the old delete action of the old saltos.
</p>

<ul>
<li>@ids =&gt; array with the emails id
</li>
</ul>

</section>
<section id="toc62">
<h3>2.1.33. Get viewpdf</h3>

<pre>
function getmail_viewpdf($id, $cid)
</pre>

<p>
This function returns the requested attachment indentified by the cid argument
in a pdf format for the viewpdf widget
</p>

<ul>
<li>@id  =&gt; id of the email
</li>
<li>@cid =&gt; the cid of the content requested
</li>
</ul>

</section>
<section id="toc63">
<h3>2.1.34. Get download</h3>

<pre>
function getmail_download($id, $cid)
</pre>

<p>
This function returns the requested attachment indentified by the cid argument
in an array format for the download feature
</p>

<ul>
<li>@id  =&gt; id of the email
</li>
<li>@cid =&gt; the cid of the content requested
</li>
</ul>

</section>
<section id="toc64">
<h3>2.1.35. TODO</h3>

<pre>
function getmail_setter($ids, $action2)
</pre>

<p>
TODO
</p>

</section>
</section>
<section id="toc65">
<h2>2.2. Send email library</h2>

<pre>
apps/emails/php/sendmail.php
</pre>

<p>
This library provides the necesary functions to send emails.
</p>

<section id="toc66">
<h3>2.2.1. Used libraries</h3>

<pre>
use PHPMailer\PHPMailer\PHPMailer;
</pre>

<p>
This use loads the external libraries needed to run this library.
</p>

</section>
<section id="toc67">
<h3>2.2.2. Sendmail</h3>

<pre>
function sendmail($account_id, $to, $subject, $body, $files = "")
</pre>

<p>
This function send an email in synchronous and/or asynchronous mode
</p>
<p>
$account_id =&gt; the account id used to detect the source of the email
$to         =&gt; can be an string with the destination email or an array with
               the follow prefixes =&gt; to:, cc:, bcc:, crt:, priority:,
               sensitivity:, replyto
$subject    =&gt; the subject string
$body       =&gt; the body string
$files      =&gt; an array with files
</p>

</section>
<section id="toc68">
<h3>2.2.3. Parser</h3>

<pre>
function __sendmail_parser($oldaddr)
</pre>

<p>
This function gets an address and tries to detect the name part and the addr
part of the argument. It's returns an array with two elements, the first is
for the addr and the second is for the name.
</p>

<ul>
<li>@oldaddr =&gt; the string that must to be processed
</li>
</ul>

</section>
<section id="toc69">
<h3>2.2.4. Message Id</h3>

<pre>
function __sendmail_messageid($account_id, $from)
</pre>

<p>
This function returns the message id for a new email, to do it, tries
to detect the outbox directory, compute an aproximation to the newest
value and checks that is unique in the system to prevent concurrence.
</p>

<ul>
<li>@account_id =&gt; the account id used to send the new email
</li>
<li>@from       =&gt; the from used to compute the crc32
</li>
</ul>

</section>
<section id="toc70">
<h3>2.2.5. Eml saver</h3>

<pre>
function __sendmail_emlsaver($message, $messageid)
</pre>

<p>
This function is intended to save the RFC822 message into the eml gzfile
</p>

<ul>
<li>@message   =&gt; the contents in RFC822 format of the message
</li>
<li>@messageid =&gt; the message id computed previously
</li>
</ul>

</section>
<section id="toc71">
<h3>2.2.6. Obj saver</h3>

<pre>
function __sendmail_objsaver($mail, $messageid)
</pre>

<p>
This function is intended to save the PHPMailer object into the obj file
</p>

<ul>
<li>@mail      =&gt; the PHPMailer object of the asynchronous transaction
</li>
<li>@messageid =&gt; the message id computed previously
</li>
</ul>

</section>
</section>
</section>
<section id="toc72">
<h1>3. Javascript</h1>

<section id="toc73">
<h2>3.1. invoices application</h2>

<pre>
apps/invoices/js/app.js
</pre>

<p>
This application implements the tipical features associated to invoices
</p>

<section id="toc74">
<h3>3.1.1. Main object</h3>

<pre>
saltos.invoices = {};
</pre>

<p>
This object contains all SaltOS code
</p>

</section>
<section id="toc75">
<h3>3.1.2. TODO</h3>

<pre>
saltos.invoices.initialize_update_list = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc76">
<h3>3.1.3. TODO</h3>

<pre>
saltos.invoices.initialize_update_view = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc77">
<h3>3.1.4. TODO</h3>

<pre>
saltos.invoices.initialize_buttons = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc78">
<h3>3.1.5. TODO</h3>

<pre>
saltos.invoices.initialize_inputs = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc79">
<h3>3.1.6. TODO</h3>

<pre>
saltos.invoices.compute_total = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc80">
<h3>3.1.7. TODO</h3>

<pre>
saltos.invoices.add_item = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc81">
<h3>3.1.8. TODO</h3>

<pre>
saltos.invoices.remove_item = (obj)
</pre>

<p>
TODO
</p>

</section>
<section id="toc82">
<h3>3.1.9. TODO</h3>

<pre>
saltos.invoices.search = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc83">
<h3>3.1.10. TODO</h3>

<pre>
saltos.invoices.reset = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc84">
<h3>3.1.11. TODO</h3>

<pre>
saltos.invoices.more = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc85">
<h3>3.1.12. TODO</h3>

<pre>
saltos.invoices.insert = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc86">
<h3>3.1.13. TODO</h3>

<pre>
saltos.invoices.update = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc87">
<h3>3.1.14. TODO</h3>

<pre>
saltos.invoices.delete1 = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc88">
<h3>3.1.15. TODO</h3>

<pre>
saltos.invoices.delete2 = ()
</pre>

<p>
TODO
</p>

</section>
</section>
<section id="toc89">
<h2>3.2. Login application</h2>

<pre>
apps/login/js/app.js
</pre>

<p>
This application implements the tipical features associated to login
</p>

<section id="toc90">
<h3>3.2.1. Main object</h3>

<pre>
saltos.login = {};
</pre>

<p>
This object contains all SaltOS code
</p>

</section>
<section id="toc91">
<h3>3.2.2. Authenticate login function</h3>

<pre>
saltos.login.authenticate = ()
</pre>

<p>
This function tries to authenticate the user using the user and pass fields of the form, to do
it uses the authenticate function that send data to the authtoken action
</p>

</section>
<section id="toc92">
<h3>3.2.3. Access denied</h3>

<pre>
saltos.login.access_denied = ()
</pre>

<p>
This function displays a modal dialog with the tipical access denied message
</p>

</section>
</section>
<section id="toc93">
<h2>3.3. Tester application</h2>

<pre>
apps/tester/js/app.new.js
</pre>

<p>
This application implements the tipical features associated to tester
</p>

<section id="toc94">
<h3>3.3.1. Tester object</h3>

<pre>
saltos.tester = {};
</pre>

<p>
This object stores all function used by this app
</p>

</section>
<section id="toc95">
<h3>3.3.2. Campo 8</h3>

<pre>
saltos.tester.campo8 = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc96">
<h3>3.3.3. Campo 9</h3>

<pre>
saltos.tester.campo9 = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc97">
<h3>3.3.4. Campo 10</h3>

<pre>
saltos.tester.campo10 = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc98">
<h3>3.3.5. Campo 11</h3>

<pre>
saltos.tester.campo11 = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc99">
<h3>3.3.6. Campo 22</h3>

<pre>
saltos.tester.campo22 = ()
</pre>

<p>
TODO
</p>

</section>
</section>
<section id="toc100">
<h2>3.4. Tester application</h2>

<pre>
apps/tester/js/app.old.js
</pre>

<p>
This application implements the tipical features associated to tester
</p>

<section id="toc101">
<h3>3.4.1. Main code</h3>

<pre>
(function() {
</pre>

<p>
This function executes the main code that allow to you to see the tester in action
</p>

</section>
</section>
</section>
<section id="toc102">
<h1>4. Tester</h1>

<section id="toc103">
<h2>4.1. TODO</h2>

<pre>
apps/tester/php/indexing.php
</pre>

</section>
<section id="toc104">
<h2>4.2. TODO</h2>

<pre>
apps/tester/php/insert.php
</pre>

</section>
<section id="toc105">
<h2>4.3. TODO</h2>

<pre>
apps/tester/php/pepe.php
</pre>

</section>
</section>
<section id="toc106">
<h1>5. Javascript</h1>

<section id="toc107">
<h2>5.1. Types application</h2>

<pre>
apps/types/js/app.1.js
</pre>

<p>
This application implements the tipical features associated to types
</p>

<section id="toc108">
<h3>5.1.1. Main object</h3>

<pre>
saltos.types = {};
</pre>

<p>
This object contains all SaltOS code
</p>

</section>
<section id="toc109">
<h3>5.1.2. Initialize types</h3>

<pre>
saltos.types.initialize = ()
</pre>

<p>
This function initializes the types screen to improve the user experience.
</p>

</section>
<section id="toc110">
<h3>5.1.3. TODO</h3>

<pre>
saltos.types.search = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc111">
<h3>5.1.4. TODO</h3>

<pre>
saltos.types.reset = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc112">
<h3>5.1.5. TODO</h3>

<pre>
saltos.types.more = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc113">
<h3>5.1.6. TODO</h3>

<pre>
saltos.types.open = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc114">
<h3>5.1.7. TODO</h3>

<pre>
saltos.types.__open_helper = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc115">
<h3>5.1.8. TODO</h3>

<pre>
saltos.types.close = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc116">
<h3>5.1.9. TODO</h3>

<pre>
saltos.types.insert = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc117">
<h3>5.1.10. TODO</h3>

<pre>
saltos.types.update = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc118">
<h3>5.1.11. TODO</h3>

<pre>
saltos.types.delete = arg
</pre>

<p>
TODO
</p>

</section>
</section>
<section id="toc119">
<h2>5.2. types application</h2>

<pre>
apps/types/js/app.2.js
</pre>

<p>
This application implements the tipical features associated to types
</p>

<section id="toc120">
<h3>5.2.1. Main object</h3>

<pre>
saltos.types = {};
</pre>

<p>
This object contains all SaltOS code
</p>

</section>
<section id="toc121">
<h3>5.2.2. Initialize types</h3>

<pre>
saltos.types.initialize_update_list = ()
</pre>

<p>
This function initializes the types screen to improve the user experience.
</p>

</section>
<section id="toc122">
<h3>5.2.3. TODO</h3>

<pre>
saltos.types.initialize_update_view = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc123">
<h3>5.2.4. TODO</h3>

<pre>
saltos.types.search = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc124">
<h3>5.2.5. TODO</h3>

<pre>
saltos.types.reset = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc125">
<h3>5.2.6. TODO</h3>

<pre>
saltos.types.more = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc126">
<h3>5.2.7. TODO</h3>

<pre>
saltos.types.insert = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc127">
<h3>5.2.8. TODO</h3>

<pre>
saltos.types.update = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc128">
<h3>5.2.9. TODO</h3>

<pre>
saltos.types.delete1 = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc129">
<h3>5.2.10. TODO</h3>

<pre>
saltos.types.delete2 = ()
</pre>

<p>
TODO
</p>

</section>
</section>
<section id="toc130">
<h2>5.3. Types application</h2>

<pre>
apps/types/js/app.3.js
</pre>

<p>
This application implements the tipical features associated to types
</p>

<section id="toc131">
<h3>5.3.1. Main object</h3>

<pre>
saltos.types = {};
</pre>

<p>
This object contains all SaltOS code
</p>

</section>
<section id="toc132">
<h3>5.3.2. Initialize types</h3>

<pre>
saltos.types.initialize = ()
</pre>

<p>
This function initializes the types screen to improve the user experience.
</p>

</section>
<section id="toc133">
<h3>5.3.3. TODO</h3>

<pre>
saltos.types.search = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc134">
<h3>5.3.4. TODO</h3>

<pre>
saltos.types.reset = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc135">
<h3>5.3.5. TODO</h3>

<pre>
saltos.types.more = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc136">
<h3>5.3.6. TODO</h3>

<pre>
saltos.types.open = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc137">
<h3>5.3.7. TODO</h3>

<pre>
saltos.types.__open_helper = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc138">
<h3>5.3.8. TODO</h3>

<pre>
saltos.types.close = ()
</pre>

<p>
TODO
</p>

</section>
<section id="toc139">
<h3>5.3.9. TODO</h3>

<pre>
saltos.types.insert = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc140">
<h3>5.3.10. TODO</h3>

<pre>
saltos.types.update = arg
</pre>

<p>
TODO
</p>

</section>
<section id="toc141">
<h3>5.3.11. TODO</h3>

<pre>
saltos.types.delete = arg
</pre>

<p>
TODO
</p>
</section>
</section>
</section>
</div>

<!-- html code generated by txt2tags 3.4 (http://txt2tags.org) -->
<!-- cmdline: txt2tags -\-toc -t html -i apps.t2t -o apps.html -->
</article></body></html>
