\documentclass[a4paper]{article}
\usepackage{graphicx}
\usepackage{paralist} % needed for compact lists
\usepackage[normalem]{ulem} % needed by strike
\usepackage[urlcolor=myblue,colorlinks=true,linkcolor=myblue]{hyperref}
\usepackage[english]{babel}
\usepackage{ucs}
\usepackage[utf8x]{inputenc}
\usepackage{eurosym}
\usepackage{sans}
\usepackage{fullpage}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{sectsty}
\allsectionsfont{\color{myblue}}
\definecolor{myblue}{RGB}{39,128,227}
\setlength{\parindent}{0mm}
\setlength{\parskip}{3mm}
\setlength{\plparsep}{2.5mm}
\def\htmladdnormallink#1#2{\href{#2}{#1}}
\definecolor{mygrey}{rgb}{0.9,0.9,0.9}
\usepackage{courier}
\lstset{basicstyle=\ttfamily,backgroundcolor=\color{mygrey},breaklines=true}
\usepackage{tocloft}
\setlength{\cftsubsubsecnumwidth}{13mm}
\setlength\cftparskip{3mm}


\title{Unit Test Documentation}
\author{SaltOS 4.0 r1924}
\begin{document}
\date{April 2025}
\maketitle
\clearpage

\tableofcontents
\clearpage


\hypertarget{toc1}{}
\section{Phpunit Libraries}

\hypertarget{toc2}{}
\subsection{Autoload file for the unit tests}

\begin{lstlisting}
lib/autoload.php
\end{lstlisting}

This file contains the code that initialize the unit tests

\hypertarget{toc3}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\Assert;
\end{lstlisting}

\hypertarget{toc4}{}
\subsubsection{Main autoloader code}

This code emmulates the index.php by loading all autoload files excep
the zindex.php, initialize the timer and the random generator

\hypertarget{toc5}{}
\subsection{Unit test helper functions}

\begin{lstlisting}
lib/utestlib.php
\end{lstlisting}

This file contains the functions used by the web and cli unit tests
to get the coverage, too contains the pcov and mime helpers.

\hypertarget{toc6}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use SebastianBergmann\CodeCoverage\Data\RawCodeCoverageData;
\end{lstlisting}

\hypertarget{toc7}{}
\subsubsection{Test PCOV start helper}

\begin{lstlisting}
function test_pcov_start(): void
\end{lstlisting}

This function puts the flag needed to enable the pcov feature, to do it,
the function creates a void file and puts permissions to allow that other
procs can write inside of it

\hypertarget{toc8}{}
\subsubsection{Test PCOV stop helper}

\begin{lstlisting}
function test_pcov_stop($index): void
\end{lstlisting}

This function gets the contents of the coverage file and removes it, too,
it does all needed things to append the collected coverage to the current
unit test coverage instance

\begin{compactitem}
\item[\color{myblue}$\bullet$] @index =$>$ index used to get the backtrace, it depends from where you are
          calling this function, generally is 2 but in some cases you need
          to use another value like 1.
\end{compactitem}

\hypertarget{toc9}{}
\subsubsection{Test WEB helper}

\begin{lstlisting}
function test_web_helper($rest, $data, $token, $lang)
\end{lstlisting}

This function performs the action defined by the rest verb sendind the data if it is
provided and using the token for authentication actions.

As you can see in the code, the function detects if data is provided and send the request
using GET or POST, in addition, an application/json content-type header is send when POST
is used.

The token is sent using the TOKEN header to be used in the authentication process.

\begin{compactitem}
\item[\color{myblue}$\bullet$] @rest  =$>$ The rest request, like update/customers/3
\item[\color{myblue}$\bullet$] @data  =$>$ The data used as json in the SaltOS app
\item[\color{myblue}$\bullet$] @token =$>$ The token used if authentication is required
\end{compactitem}

\hypertarget{toc10}{}
\subsubsection{Test CLI helper}

\begin{lstlisting}
function test_cli_helper($rest, $data, $token, $lang, $user)
\end{lstlisting}

This function allow to execute SaltOS using the CLI SAPI, to do it, the function
detects if data is provided, and executes the command and getting the output of
the execution. If data exists, then the contents are stored in a file and passed
the contents of the file to the stdin of the php process to emmulate the input
channel used by the apache server.

As an example, this functions tries to execute the command using the follow formula:

1) php index.php \$rest

2) cat /tmp/input $|$ php index.php \$rest

In addition, the token field is used to define the TOKEN environment variable that
is used by SaltOS as variable to emmulate the TOKEN used by the apache for authenticate
the SaltOS app.

\begin{compactitem}
\item[\color{myblue}$\bullet$] @rest  =$>$ The rest request, like update/customers/3
\item[\color{myblue}$\bullet$] @data  =$>$ The data used as json in the SaltOS app
\item[\color{myblue}$\bullet$] @token =$>$ The token used if authentication is required
\end{compactitem}

\hypertarget{toc11}{}
\subsubsection{Get Mime helper}

\begin{lstlisting}
function get_mime($buffer): string
\end{lstlisting}

This function returns the content type of the contents of the buffer

\begin{compactitem}
\item[\color{myblue}$\bullet$] @buffer =$>$ the contents that you want to check
\end{compactitem}

\hypertarget{toc12}{}
\subsubsection{External tests}

\begin{lstlisting}
function test_external_exec($test_file, $error_file, $error_words): void
\end{lstlisting}

This function tries to execute external php that triggers special conditions
suck as errors, that are not allowed from the phpunit tests

\begin{compactitem}
\item[\color{myblue}$\bullet$] @test\_file   =$>$ the file that must be executed
\item[\color{myblue}$\bullet$] @error\_file  =$>$ the file that must contains the error\_words
\item[\color{myblue}$\bullet$] @error\_words =$>$ the words that must exists in the error\_file
\end{compactitem}


\hypertarget{toc13}{}
\section{Phpunit Code}

\hypertarget{toc14}{}
\subsection{Test actions}

\begin{lstlisting}
test_actions.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the actions functions

\hypertarget{toc15}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc16}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc17}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_actions extends TestCase
\end{lstlisting}

\hypertarget{toc18}{}
\subsubsection{actions test}

\begin{lstlisting}
public function test_actions(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the actions functions

\hypertarget{toc19}{}
\subsection{Test addlog}

\begin{lstlisting}
test_add.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the addlog functions

\hypertarget{toc20}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc21}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc22}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_add extends TestCase
\end{lstlisting}

\hypertarget{toc23}{}
\subsubsection{addlog test}

\begin{lstlisting}
public function test_addlog(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the addlog functions

\hypertarget{toc24}{}
\subsubsection{adderror test}

\begin{lstlisting}
public function test_adderror(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the adderror functions

\hypertarget{toc25}{}
\subsection{Test apache}

\begin{lstlisting}
test_apache.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the apache configuration

\hypertarget{toc26}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc27}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_apache extends TestCase
\end{lstlisting}

\hypertarget{toc28}{}
\subsubsection{addlog test}

\begin{lstlisting}
public function test_apache(): void
\end{lstlisting}

This test performs some tests to validate the correctness of the apache configuration,
the main idea is that the path saltos/code4 of the web server must point to the web
directory.

\hypertarget{toc29}{}
\subsection{Test apps}

\begin{lstlisting}
test_apps.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the apps functions

\hypertarget{toc30}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc31}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc32}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_apps extends TestCase
\end{lstlisting}

\hypertarget{toc33}{}
\subsubsection{apps test}

\begin{lstlisting}
public function test_apps(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the apps functions

\hypertarget{toc34}{}
\subsubsection{app test}

\begin{lstlisting}
public function test_app(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the app functions

\hypertarget{toc35}{}
\subsubsection{list test}

\begin{lstlisting}
public function test_list(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the list functions

\hypertarget{toc36}{}
\subsection{Test array}

\begin{lstlisting}
test_array.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the array functions

\hypertarget{toc37}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc38}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc39}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_array extends TestCase
\end{lstlisting}

\hypertarget{toc40}{}
\subsubsection{array test}

\begin{lstlisting}
public function test_array(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the array functions

\hypertarget{toc41}{}
\subsection{Test ascii}

\begin{lstlisting}
test_ascii.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the ascii functions

\hypertarget{toc42}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc43}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'php/lib/ascii.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc44}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_ascii extends TestCase
\end{lstlisting}

\hypertarget{toc45}{}
\subsubsection{ascii test}

\begin{lstlisting}
public function test_ascii(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the ascii functions

\hypertarget{toc46}{}
\subsection{Test authupdate}

\begin{lstlisting}
test_authupdate.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the authupdate functions

\hypertarget{toc47}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc48}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc49}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_authupdate extends TestCase
\end{lstlisting}

\hypertarget{toc50}{}
\subsubsection{authupdate test}

\begin{lstlisting}
public function test_authupdate(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the authupdate functions

\hypertarget{toc51}{}
\subsection{Test cli customers}

\begin{lstlisting}
test_cli_customers.php
\end{lstlisting}

This test performs all actions of the customers app suck as: create, insert,
list, view, edit, update and delete, using the cli sapi interface

\hypertarget{toc52}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc53}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc54}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_cli_customers extends TestCase
\end{lstlisting}

\hypertarget{toc55}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc56}{}
\subsubsection{Create}

\begin{lstlisting}
public function test_create(array $json): array
\end{lstlisting}

This function execute the creates rest request, and must to get the
json with the layout without data

\hypertarget{toc57}{}
\subsubsection{Insert}

\begin{lstlisting}
public function test_insert(array $json): array
\end{lstlisting}

This function execute the insert rest request, to do it send the json with
the data that they want to insert and must to get the json with the status
and the create\_id.

\hypertarget{toc58}{}
\subsubsection{List}

\begin{lstlisting}
public function test_list(array $json): array
\end{lstlisting}

This function execute the list rest request, to do it send the json with
the search that they want to use in the list filter and receives the json
with the data used to populate the table.

\hypertarget{toc59}{}
\subsubsection{View}

\begin{lstlisting}
public function test_view(array $json): array
\end{lstlisting}

This function execute the view rest request, intended to retrieve the detail
of the app with the layout needed to render it.

\hypertarget{toc60}{}
\subsubsection{Edit}

\begin{lstlisting}
public function test_edit(array $json): array
\end{lstlisting}

This function execute the view rest request, intended to retrieve the detail
of the app with the layout needed to render it.

\hypertarget{toc61}{}
\subsubsection{Upgrade}

\begin{lstlisting}
public function test_update(array $json): array
\end{lstlisting}

This function execute the update rest request, to do it send the json with
the data that they want to update and must to get the json with the status
and the updated\_id.

\hypertarget{toc62}{}
\subsubsection{Delete}

\begin{lstlisting}
public function test_delete(array $json): void
\end{lstlisting}

This function execute the delete rest request, they must to get the json
with the status and the deleted\_id.

\hypertarget{toc63}{}
\subsection{Test cli invoices}

\begin{lstlisting}
test_cli_invoices.php
\end{lstlisting}

This test performs all actions of the invoices app suck as: create, insert,
list, view, edit, update and delete, using the cli sapi interface

\hypertarget{toc64}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc65}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc66}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_cli_invoices extends TestCase
\end{lstlisting}

\hypertarget{toc67}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc68}{}
\subsubsection{Create}

\begin{lstlisting}
public function test_create(array $json): array
\end{lstlisting}

This function execute the creates rest request, and must to get the
json with the layout without data

\hypertarget{toc69}{}
\subsubsection{Insert}

\begin{lstlisting}
public function test_insert(array $json): array
\end{lstlisting}

This function execute the insert rest request, to do it send the json with
the data that they want to insert and must to get the json with the status
and the create\_id.

\hypertarget{toc70}{}
\subsubsection{List}

\begin{lstlisting}
public function test_list(array $json): array
\end{lstlisting}

This function execute the list rest request, to do it send the json with
the search that they want to use in the list filter and receives the json
with the data used to populate the table.

\hypertarget{toc71}{}
\subsubsection{View}

\begin{lstlisting}
public function test_view(array $json): array
\end{lstlisting}

This function execute the view rest request, intended to retrieve the detail
of the app with the layout needed to render it.

\hypertarget{toc72}{}
\subsubsection{Edit}

\begin{lstlisting}
public function test_edit(array $json): array
\end{lstlisting}

This function execute the view rest request, intended to retrieve the detail
of the app with the layout needed to render it.

\hypertarget{toc73}{}
\subsubsection{Upgrade}

\begin{lstlisting}
public function test_update(array $json): array
\end{lstlisting}

This function execute the update rest request, to do it send the json with
the data that they want to update and must to get the json with the status
and the updated\_id.

\hypertarget{toc74}{}
\subsubsection{Delete}

\begin{lstlisting}
public function test_delete(array $json): void
\end{lstlisting}

This function execute the delete rest request, they must to get the json
with the status and the deleted\_id.

\hypertarget{toc75}{}
\subsection{Test cli tokens (first part)}

\begin{lstlisting}
test_cli_tokens.php
\end{lstlisting}

This test performs some part of the actions related with the tokens suck
as authtoken and checktoken, using the cli sapi interface

\hypertarget{toc76}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc77}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc78}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_cli_tokens extends TestCase
\end{lstlisting}

\hypertarget{toc79}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc80}{}
\subsubsection{Checktoken}

\begin{lstlisting}
public function test_checktoken(array $json): array
\end{lstlisting}

This function execute the checktoken rest request, and must to get the
json with the ok about the valid token that you are trying to check

\hypertarget{toc81}{}
\subsubsection{Deauthtoken}

\begin{lstlisting}
public function test_deauthtoken(array $json): array
\end{lstlisting}

This function execute the deauthtoken rest request, and must to get the
json with the ok about the valid token that you are deauthenticate

\hypertarget{toc82}{}
\subsubsection{Checktoken ko}

\begin{lstlisting}
public function test_checktoken_ko(array $json): void
\end{lstlisting}

This function execute the checktoken rest request, and must to get the
json with the ko about the invalid token that you are trying to check

\hypertarget{toc83}{}
\subsection{Test color}

\begin{lstlisting}
test_color.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the color feature

\hypertarget{toc84}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc85}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc86}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_color extends TestCase
\end{lstlisting}

\hypertarget{toc87}{}
\subsubsection{color test}

\begin{lstlisting}
public function test_color(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the color feature

\hypertarget{toc88}{}
\subsection{Test common}

\begin{lstlisting}
test_common.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the common functions

\hypertarget{toc89}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc90}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc91}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_common extends TestCase
\end{lstlisting}

\hypertarget{toc92}{}
\subsubsection{common test}

\begin{lstlisting}
public function test_common(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the common functions

\hypertarget{toc93}{}
\subsection{Test config}

\begin{lstlisting}
test_config.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the config functions

\hypertarget{toc94}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc95}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc96}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_config extends TestCase
\end{lstlisting}

\hypertarget{toc97}{}
\subsubsection{config test}

\begin{lstlisting}
public function test_config(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the config functions

\hypertarget{toc98}{}
\subsection{Test control}

\begin{lstlisting}
test_control.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the control functions

\hypertarget{toc99}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc100}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'php/lib/control.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc101}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_control extends TestCase
\end{lstlisting}

\hypertarget{toc102}{}
\subsubsection{control test}

\begin{lstlisting}
public function test_control(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the control functions

\hypertarget{toc103}{}
\subsubsection{log test}

\begin{lstlisting}
public function test_log(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the log functions

\hypertarget{toc104}{}
\subsubsection{version test}

\begin{lstlisting}
public function test_version(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the version functions

\hypertarget{toc105}{}
\subsubsection{indexing test}

\begin{lstlisting}
public function test_indexing(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the indexing functions

\hypertarget{toc106}{}
\subsection{Test cron}

\begin{lstlisting}
test_cron.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the cron functions

\hypertarget{toc107}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc108}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc109}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_cron extends TestCase
\end{lstlisting}

\hypertarget{toc110}{}
\subsubsection{Wait cron}

\begin{lstlisting}
private function wait_cron(): void
\end{lstlisting}

This function waits 10 seconds until all cron processes are running

\hypertarget{toc111}{}
\subsubsection{cron}

\begin{lstlisting}
public function test_cron(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the cron functions

\hypertarget{toc112}{}
\subsection{Test customers}

\begin{lstlisting}
test_customers.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the customers functions

\hypertarget{toc113}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc114}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc115}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_customers extends TestCase
\end{lstlisting}

\hypertarget{toc116}{}
\subsubsection{customers test}

\begin{lstlisting}
public function test_customers(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the customers functions

\hypertarget{toc117}{}
\subsection{Test database drivers}

\begin{lstlisting}
test_database.php
\end{lstlisting}

\hypertarget{toc118}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc119}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc120}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_database extends TestCase
\end{lstlisting}

\hypertarget{toc121}{}
\subsubsection{Helper}

\begin{lstlisting}
private function test_helper($obj): void
\end{lstlisting}

This function executes the follow queries and checks the correctness
of the driver by comparing the results with the expected results.

The tests that performs are the follow:

\begin{compactitem}
\item[\color{myblue}$\bullet$] SELECT GROUP\_CONCAT(a) test FROM (SELECT 1 a UNION SELECT 2 a UNION SELECT 3 a) a;
\item[\color{myblue}$\bullet$] SELECT REPLACE('abc', 'b', 'c') test
\item[\color{myblue}$\bullet$] SELECT LPAD('123', '5', '0') test
\item[\color{myblue}$\bullet$] SELECT CONCAT('a', 'b', 'c') test
\item[\color{myblue}$\bullet$] SELECT CONCAT\_WS(',','a','b','c',null,true,false) test
\item[\color{myblue}$\bullet$] SELECT UNIX\_TIMESTAMP('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT FROM\_UNIXTIME(1706787296) test
\item[\color{myblue}$\bullet$] SELECT YEAR('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT MONTH('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT WEEK('2024-02-01 12:34:56', 1) test
\item[\color{myblue}$\bullet$] SELECT TRUNCATE(1.2345, 2) test
\item[\color{myblue}$\bullet$] SELECT DAY('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT DAYOFYEAR('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT DAYOFWEEK('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT HOUR('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT MINUTE('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT SECOND('2024-02-01 12:34:56') test
\item[\color{myblue}$\bullet$] SELECT MD5('fortuna') test
\item[\color{myblue}$\bullet$] SELECT REPEAT('abc',3) test
\item[\color{myblue}$\bullet$] SELECT FIND\_IN\_SET(3,'1,2,3,4,5') test
\item[\color{myblue}$\bullet$] SELECT FIND\_IN\_SET(6,'1,2,3,4,5') test
\item[\color{myblue}$\bullet$] SELECT FIND\_IN\_SET(3,'12345') test
\item[\color{myblue}$\bullet$] SELECT IF(true, 'ok', 'ko') test
\item[\color{myblue}$\bullet$] SELECT IF(false, 'ok', 'ko') test
\item[\color{myblue}$\bullet$] SELECT IF(null, 'ok', 'ko') test
\item[\color{myblue}$\bullet$] SELECT POW(2, 8) test
\item[\color{myblue}$\bullet$] SELECT DATE\_FORMAT('2024-02-01 12:34:56', '\%Y-\%m-\%d \%H:\%i:\%s') test
\item[\color{myblue}$\bullet$] SELECT NOW() test
\end{compactitem}

\hypertarget{toc122}{}
\subsubsection{Last Insert Id helper}

\begin{lstlisting}
private function last_insert_id_helper($obj): void
\end{lstlisting}

This function is intended to check the correctness of the last\_insert\_id
feature implemented in each database driver.

\hypertarget{toc123}{}
\subsubsection{PDO MySQL driver}

\begin{lstlisting}
public function test_pdo_mysql(): void
\end{lstlisting}

This function checks the correctness of the sqlite3 driver by creating a
database connection, sendint queries validating the expected results and
closing the connection.

\hypertarget{toc124}{}
\subsubsection{MySQL improved driver}

\begin{lstlisting}
public function test_mysqli(): void
\end{lstlisting}

This function checks the correctness of the sqlite3 driver by creating a
database connection, sendint queries validating the expected results and
closing the connection.

\hypertarget{toc125}{}
\subsubsection{PDO SQLite driver}

\begin{lstlisting}
public function test_pdo_sqlite(): void
\end{lstlisting}

This function checks the correctness of the sqlite3 driver by creating a
database connection, sendint queries validating the expected results and
closing the connection.

\hypertarget{toc126}{}
\subsubsection{SQLite3 driver}

\begin{lstlisting}
public function test_sqlite3(): void
\end{lstlisting}

This function checks the correctness of the sqlite3 driver by creating a
database connection, sendint queries validating the expected results and
closing the connection.

\hypertarget{toc127}{}
\subsubsection{PDO mssql driver}

\begin{lstlisting}
private function test_pdo_mssql(): void
\end{lstlisting}

This function checks the correctness of the sqlserver driver by creating a
database connection, sendint queries validating the expected results and
closing the connection.

\hypertarget{toc128}{}
\subsubsection{Database driver}

\begin{lstlisting}
public function test_database(): void
\end{lstlisting}

This function checks the correctness of the database driver by creating a
database connection, sendint queries validating the expected results and
closing the connection.

\hypertarget{toc129}{}
\subsection{Test datetime}

\begin{lstlisting}
test_datetime.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the datetime functions

\hypertarget{toc130}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc131}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_datetime extends TestCase
\end{lstlisting}

\hypertarget{toc132}{}
\subsubsection{datetime test}

\begin{lstlisting}
public function test_datetime(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the datetime functions

\hypertarget{toc133}{}
\subsection{Test dbschema}

\begin{lstlisting}
test_dbschema.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the dbschema functions

\hypertarget{toc134}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc135}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc136}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_dbschema extends TestCase
\end{lstlisting}

\hypertarget{toc137}{}
\subsubsection{dbschema test}

\begin{lstlisting}
public function test_dbschema(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the dbschema functions

\hypertarget{toc138}{}
\subsubsection{sql test}

\begin{lstlisting}
public function test_sql(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the sql functions

\hypertarget{toc139}{}
\subsection{Test emails}

\begin{lstlisting}
test_emails.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the emails functions

\hypertarget{toc140}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc141}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc142}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_emails extends TestCase
\end{lstlisting}

\hypertarget{toc143}{}
\subsubsection{emails test}

\begin{lstlisting}
public function test_emails(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the emails functions

\hypertarget{toc144}{}
\subsection{Test error}

\begin{lstlisting}
test_error.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the error functions

\hypertarget{toc145}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc146}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc147}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_error extends TestCase
\end{lstlisting}

\hypertarget{toc148}{}
\subsubsection{error function test}

\begin{lstlisting}
public function test_error(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the error functions

\hypertarget{toc149}{}
\subsection{Test exec}

\begin{lstlisting}
test_exec.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the exec functions

\hypertarget{toc150}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc151}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_exec extends TestCase
\end{lstlisting}

\hypertarget{toc152}{}
\subsubsection{exec test}

\begin{lstlisting}
public function test_exec(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the exec functions

\hypertarget{toc153}{}
\subsection{Test export}

\begin{lstlisting}
test_export.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the export functions

\hypertarget{toc154}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc155}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc156}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_export extends TestCase
\end{lstlisting}

\hypertarget{toc157}{}
\subsubsection{Get data}

\begin{lstlisting}
private function get_data($nohead, $length): array
\end{lstlisting}

This function tries to create an array with rows using the numbers.csv file
as source, it is able to add or remove the head row and to select the size
of the result array of rows

\begin{compactitem}
\item[\color{myblue}$\bullet$] @nohead =$>$ the nohead field used in the import\_file function
\item[\color{myblue}$\bullet$] @length =$>$ the size of the rows array
\end{compactitem}

\hypertarget{toc158}{}
\subsubsection{export xml test}

\begin{lstlisting}
public function test_export_xml(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the export functions

\hypertarget{toc159}{}
\subsubsection{export csv test}

\begin{lstlisting}
public function test_export_csv(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the export functions

\hypertarget{toc160}{}
\subsubsection{export xlsx test}

\begin{lstlisting}
public function test_export_xlsx(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the export functions

\hypertarget{toc161}{}
\subsubsection{export xls test}

\begin{lstlisting}
public function test_export_xls(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the export functions

\hypertarget{toc162}{}
\subsubsection{export ods test}

\begin{lstlisting}
public function test_export_ods(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the export functions

\hypertarget{toc163}{}
\subsubsection{//\~{} * export bytes test}

\begin{lstlisting}
//~ public function test_export_bytes(): void
\end{lstlisting}

//\~{} * This test performs some tests to validate the correctness
//\~{} * of the export functions

\hypertarget{toc164}{}
\subsubsection{export edi test}

\begin{lstlisting}
public function test_export_edi(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the export functions

\hypertarget{toc165}{}
\subsubsection{export json test}

\begin{lstlisting}
public function test_export_json(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the export functions

\hypertarget{toc166}{}
\subsubsection{tree2array test}

\begin{lstlisting}
public function test_export_tree2array(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the tree2array function

\hypertarget{toc167}{}
\subsubsection{getkeys test}

\begin{lstlisting}
public function test_export_getkeys(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the getkeys function

\hypertarget{toc168}{}
\subsubsection{external exec}

\begin{lstlisting}
public function test_export_external(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the external exec

\hypertarget{toc169}{}
\subsection{Test file}

\begin{lstlisting}
test_file.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the file functions

\hypertarget{toc170}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc171}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc172}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_file extends TestCase
\end{lstlisting}

\hypertarget{toc173}{}
\subsubsection{file test}

\begin{lstlisting}
public function test_file(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the file functions

\hypertarget{toc174}{}
\subsection{Test files}

\begin{lstlisting}
test_files.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the files feature

\hypertarget{toc175}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc176}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc177}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_files extends TestCase
\end{lstlisting}

\hypertarget{toc178}{}
\subsubsection{files test}

\begin{lstlisting}
public function test_files(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the files feature

\hypertarget{toc179}{}
\subsubsection{notes test}

\begin{lstlisting}
public function test_notes(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the notes feature

\hypertarget{toc180}{}
\subsubsection{fileslog test}

\begin{lstlisting}
public function test_fileslog(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the fileslog feature

\hypertarget{toc181}{}
\subsection{Test gc}

\begin{lstlisting}
test_gc.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the gc functions

\hypertarget{toc182}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc183}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc184}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_gc extends TestCase
\end{lstlisting}

\hypertarget{toc185}{}
\subsubsection{gc exec}

\begin{lstlisting}
public function test_gc_exec(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the gc functions

\hypertarget{toc186}{}
\subsubsection{gc upload}

\begin{lstlisting}
public function test_gc_upload(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the gc functions

\hypertarget{toc187}{}
\subsubsection{gc upload}

\begin{lstlisting}
public function test_gc_trash(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the gc functions

\hypertarget{toc188}{}
\subsection{Test gdlib}

\begin{lstlisting}
test_gdlib.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the gdlib feature

\hypertarget{toc189}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc190}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc191}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_gdlib extends TestCase
\end{lstlisting}

\hypertarget{toc192}{}
\subsubsection{gdlib test}

\begin{lstlisting}
public function test_gdlib(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the gdlib feature

\hypertarget{toc193}{}
\subsection{Test getdata}

\begin{lstlisting}
test_getdata.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the getdata functions

\hypertarget{toc194}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc195}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc196}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_getdata extends TestCase
\end{lstlisting}

\hypertarget{toc197}{}
\subsubsection{getdata test}

\begin{lstlisting}
public function test_getdata(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the getdata functions

\hypertarget{toc198}{}
\subsection{Test gettext}

\begin{lstlisting}
test_gettext.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the gettext functions

\hypertarget{toc199}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc200}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc201}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_gettext extends TestCase
\end{lstlisting}

\hypertarget{toc202}{}
\subsubsection{gettext test}

\begin{lstlisting}
public function test_gettext(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the gettext functions

\hypertarget{toc203}{}
\subsection{Test help}

\begin{lstlisting}
test_help.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the help functions

\hypertarget{toc204}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc205}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'php/lib/help.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc206}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_help extends TestCase
\end{lstlisting}

\hypertarget{toc207}{}
\subsubsection{help test}

\begin{lstlisting}
public function test_help(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the help functions

\hypertarget{toc208}{}
\subsection{Test html}

\begin{lstlisting}
test_html.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the html functions

\hypertarget{toc209}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc210}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'apps/emails/php/html.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc211}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_html extends TestCase
\end{lstlisting}

\hypertarget{toc212}{}
\subsubsection{html test}

\begin{lstlisting}
public function test_html(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the html functions

\hypertarget{toc213}{}
\subsection{Test IDs}

\begin{lstlisting}
test_ids.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the check\_ids feature

\hypertarget{toc214}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc215}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_ids extends TestCase
\end{lstlisting}

\hypertarget{toc216}{}
\subsubsection{IDs test}

\begin{lstlisting}
public function test_ids(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the check\_ids feature

\hypertarget{toc217}{}
\subsection{Test image}

\begin{lstlisting}
test_image.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the barcode, qrcode, captcha and score features

\hypertarget{toc218}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc219}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc220}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_image extends TestCase
\end{lstlisting}

\hypertarget{toc221}{}
\subsubsection{barcode test}

\begin{lstlisting}
public function test_barcode(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the barcode feature

\hypertarget{toc222}{}
\subsubsection{qrcode test}

\begin{lstlisting}
public function test_qrcode(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the qrcode feature

\hypertarget{toc223}{}
\subsubsection{captcha test}

\begin{lstlisting}
public function test_captcha(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the captcha feature

\hypertarget{toc224}{}
\subsubsection{score test}

\begin{lstlisting}
public function test_score(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the score feature

\hypertarget{toc225}{}
\subsection{Test import}

\begin{lstlisting}
test_import.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc226}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc227}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc228}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_import extends TestCase
\end{lstlisting}

\hypertarget{toc229}{}
\subsubsection{import xml test}

\begin{lstlisting}
public function test_import_xml(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc230}{}
\subsubsection{import csv test}

\begin{lstlisting}
public function test_import_csv(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc231}{}
\subsubsection{import xlsx test}

\begin{lstlisting}
public function test_import_xlsx(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc232}{}
\subsubsection{import xls test}

\begin{lstlisting}
public function test_import_xls(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc233}{}
\subsubsection{import ods test}

\begin{lstlisting}
public function test_import_ods(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc234}{}
\subsubsection{import bytes test}

\begin{lstlisting}
public function test_import_bytes(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc235}{}
\subsubsection{import edi test}

\begin{lstlisting}
public function test_import_edi(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc236}{}
\subsubsection{import json test}

\begin{lstlisting}
public function test_import_json(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc237}{}
\subsubsection{import helper test}

\begin{lstlisting}
public function test_import_helper(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the import functions

\hypertarget{toc238}{}
\subsubsection{external exec}

\begin{lstlisting}
public function test_import_external(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the external exec

\hypertarget{toc239}{}
\subsection{Test indexing}

\begin{lstlisting}
test_indexing.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the indexing functions

\hypertarget{toc240}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc241}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc242}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_indexing extends TestCase
\end{lstlisting}

\hypertarget{toc243}{}
\subsubsection{indexing test}

\begin{lstlisting}
public function test_indexing(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the indexing functions

\hypertarget{toc244}{}
\subsection{Test iniset}

\begin{lstlisting}
test_iniset.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the iniset functions

\hypertarget{toc245}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc246}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc247}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_iniset extends TestCase
\end{lstlisting}

\hypertarget{toc248}{}
\subsubsection{iniset test}

\begin{lstlisting}
public function test_iniset(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the iniset functions

\hypertarget{toc249}{}
\subsection{Test invoices}

\begin{lstlisting}
test_invoices.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the invoices functions

\hypertarget{toc250}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc251}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc252}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_invoices extends TestCase
\end{lstlisting}

\hypertarget{toc253}{}
\subsubsection{invoices test}

\begin{lstlisting}
public function test_invoices(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the invoices functions

\hypertarget{toc254}{}
\subsection{Test log}

\begin{lstlisting}
test_log.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the log functions

\hypertarget{toc255}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc256}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_log extends TestCase
\end{lstlisting}

\hypertarget{toc257}{}
\subsubsection{log test}

\begin{lstlisting}
public function test_log(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the log functions

\hypertarget{toc258}{}
\subsection{Test math}

\begin{lstlisting}
test_math.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the math functions

\hypertarget{toc259}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc260}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'php/lib/math.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc261}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_math extends TestCase
\end{lstlisting}

\hypertarget{toc262}{}
\subsubsection{math test}

\begin{lstlisting}
public function test_math(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the math functions

\hypertarget{toc263}{}
\subsection{Test memory}

\begin{lstlisting}
test_memory.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the memory functions

\hypertarget{toc264}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc265}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_memory extends TestCase
\end{lstlisting}

\hypertarget{toc266}{}
\subsubsection{memory test}

\begin{lstlisting}
public function test_memory(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the memory functions

\hypertarget{toc267}{}
\subsection{Test mime}

\begin{lstlisting}
test_mime.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the mime functions

\hypertarget{toc268}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc269}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'apps/emails/php/html.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc270}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_mime extends TestCase
\end{lstlisting}

\hypertarget{toc271}{}
\subsubsection{mime test}

\begin{lstlisting}
public function test_mime(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the mime functions

\hypertarget{toc272}{}
\subsection{Test nssdb}

\begin{lstlisting}
test_nssdb.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the nssdb functions

\hypertarget{toc273}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc274}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc275}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_nssdb extends TestCase
\end{lstlisting}

\hypertarget{toc276}{}
\subsubsection{nssdb test}

\begin{lstlisting}
public function test_nssdb(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the nssdb functions

\hypertarget{toc277}{}
\subsubsection{certs test}

\begin{lstlisting}
public function test_certs(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the certs functions

\hypertarget{toc278}{}
\subsubsection{actions test}

\begin{lstlisting}
public function test_actions(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the certs functions

\hypertarget{toc279}{}
\subsection{Test output}

\begin{lstlisting}
test_output.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the output functions

\hypertarget{toc280}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc281}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc282}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_output extends TestCase
\end{lstlisting}

\hypertarget{toc283}{}
\subsubsection{output test}

\begin{lstlisting}
public function test_output(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the output functions

\hypertarget{toc284}{}
\subsubsection{colorize test}

\begin{lstlisting}
public function test_colorize(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the colorize functions

\hypertarget{toc285}{}
\subsection{Test password}

\begin{lstlisting}
test_password.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the password functions

\hypertarget{toc286}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc287}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'php/lib/password.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc288}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_password extends TestCase
\end{lstlisting}

\hypertarget{toc289}{}
\subsubsection{password test}

\begin{lstlisting}
public function test_password(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the password functions

\hypertarget{toc290}{}
\subsection{Test pdf}

\begin{lstlisting}
test_pdf.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the pdf functions

\hypertarget{toc291}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc292}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'php/lib/pdf.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc293}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_pdf extends TestCase
\end{lstlisting}

\hypertarget{toc294}{}
\subsubsection{pdf test}

\begin{lstlisting}
public function test_pdf(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the pdf functions

\hypertarget{toc295}{}
\subsection{Test perms}

\begin{lstlisting}
test_perms.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the perms functions

\hypertarget{toc296}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc297}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc298}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_perms extends TestCase
\end{lstlisting}

\hypertarget{toc299}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc300}{}
\subsubsection{perms test}

\begin{lstlisting}
public function test_perms(array $json): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the perms functions

\hypertarget{toc301}{}
\subsection{Test ping}

\begin{lstlisting}
test_ping.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the ping functions

\hypertarget{toc302}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc303}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc304}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_ping extends TestCase
\end{lstlisting}

\hypertarget{toc305}{}
\subsubsection{ping test}

\begin{lstlisting}
public function test_ping(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the ping functions

\hypertarget{toc306}{}
\subsection{Test push}

\begin{lstlisting}
test_push.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the push functions

\hypertarget{toc307}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc308}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc309}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_push extends TestCase
\end{lstlisting}

\hypertarget{toc310}{}
\subsubsection{push}

\begin{lstlisting}
public function test_push(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the push functions

\hypertarget{toc311}{}
\subsection{Test random}

\begin{lstlisting}
test_random.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the random functions

\hypertarget{toc312}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc313}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_random extends TestCase
\end{lstlisting}

\hypertarget{toc314}{}
\subsubsection{random test}

\begin{lstlisting}
public function test_random(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the random functions

\hypertarget{toc315}{}
\subsection{Test mime}

\begin{lstlisting}
test_replace.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the str\_replace instead of the preg\_replace

\hypertarget{toc316}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc317}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_replace extends TestCase
\end{lstlisting}

\hypertarget{toc318}{}
\subsubsection{replace test}

\begin{lstlisting}
public function test_replace(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the str\_replace\_assoc instead of the replace function

\hypertarget{toc319}{}
\subsection{Test roundcube library}

\begin{lstlisting}
test_roundcube.php
\end{lstlisting}

\hypertarget{toc320}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc321}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_roundcube extends TestCase
\end{lstlisting}

\hypertarget{toc322}{}
\subsubsection{html2text}

\begin{lstlisting}
public function test_html2text(): void
\end{lstlisting}

This function checks the correctness of the html2text method provided by the
roundcube library.

\hypertarget{toc323}{}
\subsection{Test semaphore}

\begin{lstlisting}
test_semaphore.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the semaphore functions

\hypertarget{toc324}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc325}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc326}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_semaphore extends TestCase
\end{lstlisting}

\hypertarget{toc327}{}
\subsubsection{semaphore test}

\begin{lstlisting}
public function test_semaphore(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the semaphore functions

\hypertarget{toc328}{}
\subsection{Test server}

\begin{lstlisting}
test_server.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the server functions

\hypertarget{toc329}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc330}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc331}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_server extends TestCase
\end{lstlisting}

\hypertarget{toc332}{}
\subsubsection{server test}

\begin{lstlisting}
public function test_server(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the server functions

\hypertarget{toc333}{}
\subsection{Test sql}

\begin{lstlisting}
test_sql.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the sql functions

\hypertarget{toc334}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc335}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc336}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_sql extends TestCase
\end{lstlisting}

\hypertarget{toc337}{}
\subsubsection{SQL test}

\begin{lstlisting}
public function test_sql(): void
\end{lstlisting}

This function performs some tests to validate the correctness
of the sql functions

\hypertarget{toc338}{}
\subsection{Test strings}

\begin{lstlisting}
test_strings.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the strings functions

\hypertarget{toc339}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc340}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_strings extends TestCase
\end{lstlisting}

\hypertarget{toc341}{}
\subsubsection{strings test}

\begin{lstlisting}
public function test_strings(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the strings functions

\hypertarget{toc342}{}
\subsection{Test mime}

\begin{lstlisting}
test_strtr.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the str\_replace\_assoc instead of the strtr function

\hypertarget{toc343}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc344}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_strtr extends TestCase
\end{lstlisting}

\hypertarget{toc345}{}
\subsubsection{strtr test}

\begin{lstlisting}
public function test_strtr(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the str\_replace\_assoc instead of the strtr function

\hypertarget{toc346}{}
\subsection{Test system}

\begin{lstlisting}
test_system.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the system functions

\hypertarget{toc347}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc348}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc349}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_system extends TestCase
\end{lstlisting}

\hypertarget{toc350}{}
\subsubsection{system test}

\begin{lstlisting}
public function test_system(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the system functions

\hypertarget{toc351}{}
\subsection{Test tokens}

\begin{lstlisting}
test_tokens.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the token generator and the token format checker

\hypertarget{toc352}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc353}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_tokens extends TestCase
\end{lstlisting}

\hypertarget{toc354}{}
\subsubsection{Tokens test}

\begin{lstlisting}
public function test_tokens(): void
\end{lstlisting}

This function performs some tests to validate the correctness
of the token generator and the token format checker

\hypertarget{toc355}{}
\subsection{Test unoconv}

\begin{lstlisting}
test_unoconv.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the unoconv functions

\hypertarget{toc356}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc357}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'php/lib/unoconv.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc358}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_unoconv extends TestCase
\end{lstlisting}

\hypertarget{toc359}{}
\subsubsection{Pdf test helper}

\begin{lstlisting}
private function test_pdf($input): void
\end{lstlisting}

This function tries to do the test with unoconv2pdf, checks
that the input not exists and the output exists to validate
the correctness of the function

\begin{compactitem}
\item[\color{myblue}$\bullet$] @input =$>$ the input file to use in the test
\end{compactitem}

\hypertarget{toc360}{}
\subsubsection{Txt test helper}

\begin{lstlisting}
private function test_txt($input): void
\end{lstlisting}

This function tries to do the test with unoconv2txt, checks
that the input not exists and the output exists to validate
the correctness of the function

\begin{compactitem}
\item[\color{myblue}$\bullet$] @input =$>$ the input file to use in the test
\end{compactitem}

\hypertarget{toc361}{}
\subsubsection{unoconv test}

\begin{lstlisting}
public function test_unoconv(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the unoconv functions

\hypertarget{toc362}{}
\subsubsection{ocr test}

\begin{lstlisting}
public function test_ocr(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the ocr functions

\hypertarget{toc363}{}
\subsubsection{commands test}

\begin{lstlisting}
public function test_commands(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the commands functions

\hypertarget{toc364}{}
\subsection{Test upload}

\begin{lstlisting}
test_upload.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the upload functions

\hypertarget{toc365}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc366}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc367}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_upload extends TestCase
\end{lstlisting}

\hypertarget{toc368}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc369}{}
\subsubsection{Addfiles}

\begin{lstlisting}
public function test_addfiles(array $json): array
\end{lstlisting}

This function execute the addfiles rest request, and must to get the
json with the correct data

\hypertarget{toc370}{}
\subsubsection{Delfiles}

\begin{lstlisting}
public function test_delfiles(array $json): void
\end{lstlisting}

This function execute the delfiles rest request, and must to get the
json with the correct data

\hypertarget{toc371}{}
\subsubsection{Human size}

\begin{lstlisting}
public function test_human_size(): void
\end{lstlisting}

This function only try to execute the get\_human\_size function

\hypertarget{toc372}{}
\subsection{Test users}

\begin{lstlisting}
test_user.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the users functions

\hypertarget{toc373}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc374}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc375}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_user extends TestCase
\end{lstlisting}

\hypertarget{toc376}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc377}{}
\subsubsection{users test}

\begin{lstlisting}
public function test_user(array $json): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the users functions

\hypertarget{toc378}{}
\subsubsection{browser test}

\begin{lstlisting}
public function test_browser(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the browser functions

\hypertarget{toc379}{}
\subsubsection{geoip test}

\begin{lstlisting}
public function test_geoip(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the geoip functions

\hypertarget{toc380}{}
\subsubsection{security test}

\begin{lstlisting}
public function test_security(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the security functions

\hypertarget{toc381}{}
\subsection{Test users}

\begin{lstlisting}
test_users.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the users functions

\hypertarget{toc382}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc383}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc384}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_users extends TestCase
\end{lstlisting}

\hypertarget{toc385}{}
\subsubsection{days test}

\begin{lstlisting}
public function test_days(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the days functions

\hypertarget{toc386}{}
\subsubsection{users test}

\begin{lstlisting}
public function test_users(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the users functions

\hypertarget{toc387}{}
\subsubsection{groups test}

\begin{lstlisting}
public function test_groups(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the groups functions

\hypertarget{toc388}{}
\subsection{Test version}

\begin{lstlisting}
test_version.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the version related functions

\hypertarget{toc389}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc390}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_version extends TestCase
\end{lstlisting}

\hypertarget{toc391}{}
\subsubsection{version test}

\begin{lstlisting}
public function test_version(): void
\end{lstlisting}

This function performs some tests to validate the correctness
of the version related functions

\hypertarget{toc392}{}
\subsection{Test web customers}

\begin{lstlisting}
test_web_customers.php
\end{lstlisting}

This test performs all actions of the customers app suck as: create, insert,
list, view, edit, update and delete, using the apache sapi interface

\hypertarget{toc393}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc394}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc395}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_web_customers extends TestCase
\end{lstlisting}

\hypertarget{toc396}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc397}{}
\subsubsection{Create}

\begin{lstlisting}
public function test_create(array $json): array
\end{lstlisting}

This function execute the creates rest request, and must to get the
json with the layout without data

\hypertarget{toc398}{}
\subsubsection{Insert}

\begin{lstlisting}
public function test_insert(array $json): array
\end{lstlisting}

This function execute the insert rest request, to do it send the json with
the data that they want to insert and must to get the json with the status
and the create\_id.

\hypertarget{toc399}{}
\subsubsection{List}

\begin{lstlisting}
public function test_list(array $json): array
\end{lstlisting}

This function execute the list rest request, to do it send the json with
the search that they want to use in the list filter and receives the json
with the data used to populate the table.

\hypertarget{toc400}{}
\subsubsection{View}

\begin{lstlisting}
public function test_view(array $json): array
\end{lstlisting}

This function execute the view rest request, intended to retrieve the detail
of the app with the layout needed to render it.

\hypertarget{toc401}{}
\subsubsection{Edit}

\begin{lstlisting}
public function test_edit(array $json): array
\end{lstlisting}

This function execute the view rest request, intended to retrieve the detail
of the app with the layout needed to render it.

\hypertarget{toc402}{}
\subsubsection{Upgrade}

\begin{lstlisting}
public function test_update(array $json): array
\end{lstlisting}

This function execute the update rest request, to do it send the json with
the data that they want to update and must to get the json with the status
and the updated\_id.

\hypertarget{toc403}{}
\subsubsection{Delete}

\begin{lstlisting}
public function test_delete(array $json): void
\end{lstlisting}

This function execute the delete rest request, they must to get the json
with the status and the deleted\_id.

\hypertarget{toc404}{}
\subsection{Test web invoices}

\begin{lstlisting}
test_web_invoices.php
\end{lstlisting}

This test performs all actions of the invoices app suck as: create, insert,
list, view, edit, update and delete, using the apache sapi interface

\hypertarget{toc405}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc406}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc407}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_web_invoices extends TestCase
\end{lstlisting}

\hypertarget{toc408}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc409}{}
\subsubsection{Create}

\begin{lstlisting}
public function test_create(array $json): array
\end{lstlisting}

This function execute the creates rest request, and must to get the
json with the layout without data

\hypertarget{toc410}{}
\subsubsection{Insert}

\begin{lstlisting}
public function test_insert(array $json): array
\end{lstlisting}

This function execute the insert rest request, to do it send the json with
the data that they want to insert and must to get the json with the status
and the create\_id.

\hypertarget{toc411}{}
\subsubsection{List}

\begin{lstlisting}
public function test_list(array $json): array
\end{lstlisting}

This function execute the list rest request, to do it send the json with
the search that they want to use in the list filter and receives the json
with the data used to populate the table.

\hypertarget{toc412}{}
\subsubsection{View}

\begin{lstlisting}
public function test_view(array $json): array
\end{lstlisting}

This function execute the view rest request, intended to retrieve the detail
of the app with the layout needed to render it.

\hypertarget{toc413}{}
\subsubsection{Edit}

\begin{lstlisting}
public function test_edit(array $json): array
\end{lstlisting}

This function execute the view rest request, intended to retrieve the detail
of the app with the layout needed to render it.

\hypertarget{toc414}{}
\subsubsection{Upgrade}

\begin{lstlisting}
public function test_update(array $json): array
\end{lstlisting}

This function execute the update rest request, to do it send the json with
the data that they want to update and must to get the json with the status
and the updated\_id.

\hypertarget{toc415}{}
\subsubsection{Delete}

\begin{lstlisting}
public function test_delete(array $json): void
\end{lstlisting}

This function execute the delete rest request, they must to get the json
with the status and the deleted\_id.

\hypertarget{toc416}{}
\subsection{Test web tokens (first part)}

\begin{lstlisting}
test_web_tokens.php
\end{lstlisting}

This test performs some part of the actions related with the tokens suck
as authtoken and checktoken, using the apache sapi interface

\hypertarget{toc417}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc418}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc419}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_web_tokens extends TestCase
\end{lstlisting}

\hypertarget{toc420}{}
\subsubsection{Authtoken}

\begin{lstlisting}
public function test_authtoken(): array
\end{lstlisting}

This function execute the authtoken rest request, and must to get the
json with the valid token to continue in the nexts unit tests

\hypertarget{toc421}{}
\subsubsection{Checktoken}

\begin{lstlisting}
public function test_checktoken(array $json): array
\end{lstlisting}

This function execute the checktoken rest request, and must to get the
json with the ok about the valid token that you are trying to check

\hypertarget{toc422}{}
\subsubsection{Deauthtoken}

\begin{lstlisting}
public function test_deauthtoken(array $json): array
\end{lstlisting}

This function execute the deauthtoken rest request, and must to get the
json with the ok about the valid token that you are deauthenticate

\hypertarget{toc423}{}
\subsubsection{Checktoken ko}

\begin{lstlisting}
public function test_checktoken_ko(array $json): void
\end{lstlisting}

This function execute the checktoken rest request, and must to get the
json with the ko about the invalid token that you are trying to check

\hypertarget{toc424}{}
\subsection{Test XML}

\begin{lstlisting}
test_xml.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the xml related functions

\hypertarget{toc425}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc426}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc427}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_xml extends TestCase
\end{lstlisting}

\hypertarget{toc428}{}
\subsubsection{XML test}

\begin{lstlisting}
public function test_xml(): void
\end{lstlisting}

This function performs some tests to validate the correctness
of the xml related functions

\hypertarget{toc429}{}
\subsection{Test YAML}

\begin{lstlisting}
test_yaml.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the yaml related functions

\hypertarget{toc430}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc431}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_yaml extends TestCase
\end{lstlisting}

\hypertarget{toc432}{}
\subsubsection{YAML test}

\begin{lstlisting}
public function test_yaml(): void
\end{lstlisting}

This function performs some tests to validate the correctness
of the yaml related functions

\hypertarget{toc433}{}
\subsection{Test zindex}

\begin{lstlisting}
test_zindex.php
\end{lstlisting}

This test performs some tests to validate the correctness
of the zindex functions

\hypertarget{toc434}{}
\subsubsection{Importing namespaces}

\begin{lstlisting}
use PHPUnit\Framework\TestCase;
\end{lstlisting}

\hypertarget{toc435}{}
\subsubsection{Loading helper function}

\begin{lstlisting}
require_once 'lib/utestlib.php';
\end{lstlisting}

This file contains the needed function used by the unit tests

\hypertarget{toc436}{}
\subsubsection{Main class of this unit test}

\begin{lstlisting}
final class test_zindex extends TestCase
\end{lstlisting}

\hypertarget{toc437}{}
\subsubsection{zindex test}

\begin{lstlisting}
public function test_zindex(): void
\end{lstlisting}

This test performs some tests to validate the correctness
of the zindex functions


\hypertarget{toc438}{}
\section{Jest Libraries}

\hypertarget{toc439}{}
\subsection{Setup file for the unit tests}

\begin{lstlisting}
lib/jest.setup.js
\end{lstlisting}

This file contains the code that initialize the unit tests

\hypertarget{toc440}{}
\subsubsection{Detect what type of test is running, and load the needed setup}

\begin{lstlisting}
if ('fetch' in global) {
\end{lstlisting}

\hypertarget{toc441}{}
\subsection{Setup file for the unit tests}

\begin{lstlisting}
lib/jsdom.setup.js
\end{lstlisting}

This file contains the code that initialize the unit tests

\hypertarget{toc442}{}
\subsubsection{Needed by all user interface features}

\begin{lstlisting}
global.bootstrap = require('../../code/web/lib/bootstrap/bootstrap.bundle.min.js');
\end{lstlisting}

\hypertarget{toc443}{}
\subsubsection{Needed by bootstrap, core and proxy modules}

\begin{lstlisting}
global.md5 = require('../../code/web/lib/md5/md5.min.js');
\end{lstlisting}

\hypertarget{toc444}{}
\subsubsection{Needed by bootstrap module}

\begin{lstlisting}
global.window.matchMedia = function() {
\end{lstlisting}

\hypertarget{toc445}{}
\subsubsection{This is the same that object.js for the global scope}

\begin{lstlisting}
global.saltos = {};
\end{lstlisting}

\hypertarget{toc446}{}
\subsubsection{Load all files of the project}

\begin{lstlisting}
/*const files = `core,bootstrap,storage,hash,token,auth,window,
\end{lstlisting}

\hypertarget{toc447}{}
\subsubsection{My Require}

\begin{lstlisting}
global.myrequire = (file, fns)
\end{lstlisting}

This function is intended to add the needed module.exports at the end of the
file that you want to process, this is a temporary action used only for the
require action, and at the end, before the return, the original code is saved
as a restore action to maintain the original code file

\hypertarget{toc448}{}
\subsection{Setup file for the unit tests}

\begin{lstlisting}
lib/node.setup.js
\end{lstlisting}

This file contains the code that initialize the unit tests

\hypertarget{toc449}{}
\subsubsection{This is the same that object.js for the global scope}

\begin{lstlisting}
global.saltos = {};
\end{lstlisting}

\hypertarget{toc450}{}
\subsubsection{Needed by core module}

\begin{lstlisting}
global.window = {
\end{lstlisting}

\hypertarget{toc451}{}
\subsubsection{Needed by core module}

\begin{lstlisting}
global.document = {
\end{lstlisting}

\hypertarget{toc452}{}
\subsubsection{Load all files of the project}

\begin{lstlisting}
require(`../../code/web/js/core.js`);
\end{lstlisting}

\hypertarget{toc453}{}
\subsubsection{My Pause}

\begin{lstlisting}
global.mypause = (page, delay)
\end{lstlisting}

This function is intended to do a pause inside the browser, to do it, we
use a string instead of real code because istanbul tries to inject code
and fails in runtime, one solution can be to put "istanbul ignore next"
in a comment before the next page.evaluate, but I prefer to use a string
in the page.evaluate because it is more simple for me


\hypertarget{toc454}{}
\section{Jest Code}

\hypertarget{toc455}{}
\subsection{Apps unit tests}

\begin{lstlisting}
test_apps.js
\end{lstlisting}

This file contains the apps unit tests

\hypertarget{toc456}{}
\subsubsection{Puppeteer setup}

\begin{lstlisting}
const puppeteer = require('puppeteer');
\end{lstlisting}

This lines contain the needed setup for run puppeteer and take screenshots

\hypertarget{toc457}{}
\subsubsection{Global variables}

\begin{lstlisting}
let browser;
\end{lstlisting}

This variables contains the browser and page links

\hypertarget{toc458}{}
\subsubsection{Before All}

\begin{lstlisting}
beforeAll(async ()
\end{lstlisting}

This function contains all code executed before all tests, in this case the
features provided by this function includes the launch of the browser, set
the screen size and start the javascript coverage

\hypertarget{toc459}{}
\subsubsection{After All}

\begin{lstlisting}
afterAll(async ()
\end{lstlisting}

This function contains all code executed after all tests, in this case the
features provided by this function include the stop of the javsacript coverage
recording, the save feature to the desired storage path and the browser close

\hypertarget{toc460}{}
\subsubsection{Workflow variables}

\begin{lstlisting}
let testFailed = false;
\end{lstlisting}

This variables allow to control the workflow of the test, the main idea is to
skip all tests when one test fails

\hypertarget{toc461}{}
\subsubsection{Before Each}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

This function contains all code executed before each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc462}{}
\subsubsection{After Each}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

This function contains all code executed after each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc463}{}
\subsubsection{App Login}

\begin{lstlisting}
describe('App Login', ()
\end{lstlisting}

This test is intended to validate the correctness of the login screen and their
particularities, too tries to check the dashboard and the logout to close the
loop of tests

\hypertarget{toc464}{}
\subsubsection{Action Login}

\begin{lstlisting}
test('Action Login', async ()
\end{lstlisting}

This function tries to do a test to validate that the login screen appear
correctly without issues

\hypertarget{toc465}{}
\subsubsection{Action Login Ko Red}

\begin{lstlisting}
test('Action Login Ko Red', async ()
\end{lstlisting}

This function tries to validate the form when no data is found

\hypertarget{toc466}{}
\subsubsection{Action Login Ko Green}

\begin{lstlisting}
test('Action Login Ko Green', async ()
\end{lstlisting}

This function tries to validate the form when invalid data is found

\hypertarget{toc467}{}
\subsubsection{Action Dashboard}

\begin{lstlisting}
test('Action Dashboard', async ()
\end{lstlisting}

This function tries to execute the login with valid credentials, to validate
the correctness, the dashboard will appear

\hypertarget{toc468}{}
\subsubsection{Action Reload}

\begin{lstlisting}
test('Action Reload', async ()
\end{lstlisting}

This function tries to do a reload of the previous page, the validation of
this test must accomplish when a valid dashbord appear

\hypertarget{toc469}{}
\subsubsection{Action Logout}

\begin{lstlisting}
test('Action Logout', async ()
\end{lstlisting}

This test is intended to check the correctness of the logout feature, to
to it the test tries to locate the logout button placed in the dropdown
menu of the nabvar and click to the third element

\hypertarget{toc470}{}
\subsection{Bootstrap unit tests}

\begin{lstlisting}
test_bootstrap.js
\end{lstlisting}

This file contains the bootstrap unit tests

\hypertarget{toc471}{}
\subsubsection{Puppeteer setup}

\begin{lstlisting}
const puppeteer = require('puppeteer');
\end{lstlisting}

This lines contain the needed setup for run puppeteer and take screenshots

\hypertarget{toc472}{}
\subsubsection{Bootstrap}

\begin{lstlisting}
describe('Bootstrap', ()
\end{lstlisting}

This test contains the code needed to create all widgets and validate the
correctness of them

\hypertarget{toc473}{}
\subsubsection{Global variables}

\begin{lstlisting}
let browser;
\end{lstlisting}

This variables contains the browser and page links

\hypertarget{toc474}{}
\subsubsection{Before All}

\begin{lstlisting}
beforeAll(async ()
\end{lstlisting}

This function contains all code executed before all tests

\hypertarget{toc475}{}
\subsubsection{After All}

\begin{lstlisting}
afterAll(async ()
\end{lstlisting}

This function contains all code executed after all tests

\hypertarget{toc476}{}
\subsubsection{Prepare the test.each iterator}

\begin{lstlisting}
const fs = require('fs');
\end{lstlisting}

\hypertarget{toc477}{}
\subsubsection{Real test}

\begin{lstlisting}
test.each(json)('$label', async field
\end{lstlisting}

This function executes the real test for each json item, its able to
create a widget and validate the correctness of the widget comparing
the new widget screenshot to the backup widget screenshot

\hypertarget{toc478}{}
\subsection{Core unit tests}

\begin{lstlisting}
test_core.js
\end{lstlisting}

This file contains comprehensive unit tests for the core functionality
of the SaltOS framework, including error handling, AJAX operations,
utility functions, and service worker integration.

\hypertarget{toc479}{}
\subsubsection{Load all needed files of the project}

\begin{lstlisting}
const files = `core,gettext,token`.split(',');
\end{lstlisting}

\hypertarget{toc480}{}
\subsubsection{Reset mocks before each test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Initializes mock implementations for console.log and fetch API
before each test case runs

\hypertarget{toc481}{}
\subsubsection{Restore mocks after each test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

Restores original implementations of mocked functions
after each test case completes

\hypertarget{toc482}{}
\subsubsection{Test suite for error and log reporting}

\begin{lstlisting}
describe('saltos.core.adderror/addlog', ()
\end{lstlisting}

Contains tests for core error handling and logging functionality

\hypertarget{toc483}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Mocks core dependencies including AJAX, token, and gettext functions

\hypertarget{toc484}{}
\subsubsection{Test error reporting functionality}

\begin{lstlisting}
test('saltos.core.adderror should send error details to the server', async ()
\end{lstlisting}

Verifies that error details including stack traces are properly
processed and sent to the server

\hypertarget{toc485}{}
\subsubsection{Test log reporting functionality}

\begin{lstlisting}
test('saltos.core.addlog should send log message to the server', ()
\end{lstlisting}

Verifies that log messages are properly formatted and sent to the server

\hypertarget{toc486}{}
\subsubsection{Test suite for global error handling}

\begin{lstlisting}
describe('window.addEventListener for error and unhandledrejection', ()
\end{lstlisting}

Contains tests for window-level error and unhandled promise rejection handlers

\hypertarget{toc487}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Mocks the core error reporting function

\hypertarget{toc488}{}
\subsubsection{Test global error handling}

\begin{lstlisting}
test('should call saltos.core.adderror when an error occurs', ()
\end{lstlisting}

Verifies that window error events are properly captured and reported

\hypertarget{toc489}{}
\subsubsection{Test unhandled promise rejection handling}

\begin{lstlisting}
test('should call saltos.core.adderror when an unhandledrejection occurs', ()
\end{lstlisting}

Verifies that unhandled promise rejections are properly captured and reported

\hypertarget{toc490}{}
\subsubsection{Test parameter validation functionality}

\begin{lstlisting}
test('saltos.core.check_params', ()
\end{lstlisting}

Verifies that missing parameters are properly initialized with default values

\hypertarget{toc491}{}
\subsubsection{Test unique ID generation}

\begin{lstlisting}
test('saltos.core.uniqid', ()
\end{lstlisting}

Verifies that generated IDs are unique and follow expected format

\hypertarget{toc492}{}
\subsubsection{Test suite for visibility detection}

\begin{lstlisting}
describe('when_visible', ()
\end{lstlisting}

Contains tests for the when\_visible utility function

\hypertarget{toc493}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Configures fake timers and clears DOM

\hypertarget{toc494}{}
\subsubsection{Cleanup after each test in this suite}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

Clears timers and restores real timer implementation

\hypertarget{toc495}{}
\subsubsection{Test basic visibility detection}

\begin{lstlisting}
test('executes the callback when the object becomes visible', ()
\end{lstlisting}

Verifies callback is executed when element becomes visible

\hypertarget{toc496}{}
\subsubsection{Test visibility detection with ID}

\begin{lstlisting}
test('works setting the id as test-div', ()
\end{lstlisting}

Verifies function works with elements that have IDs

\hypertarget{toc497}{}
\subsubsection{Test visibility detection with string ID}

\begin{lstlisting}
test('works with an string id instead of an object', ()
\end{lstlisting}

Verifies function works when passed an element ID string

\hypertarget{toc498}{}
\subsubsection{Test invalid input handling}

\begin{lstlisting}
test('throws an error for unsupported obj type', ()
\end{lstlisting}

Verifies function throws error for unsupported input types

\hypertarget{toc499}{}
\subsubsection{Test delayed element attachment}

\begin{lstlisting}
test('append the object after some iterations', ()
\end{lstlisting}

Verifies function works when element is added to DOM after initialization

\hypertarget{toc500}{}
\subsubsection{Test element removal handling}

\begin{lstlisting}
test('throws an error if the object disappears before being visible', ()
\end{lstlisting}

Verifies function throws error if element is removed before becoming visible

\hypertarget{toc501}{}
\subsubsection{Test key code extraction}

\begin{lstlisting}
test('saltos.core.get_keycode', ()
\end{lstlisting}

Verifies function correctly extracts key codes from different event properties

\hypertarget{toc502}{}
\subsubsection{Test key name resolution}

\begin{lstlisting}
test('saltos.core.get_keyname', ()
\end{lstlisting}

Verifies function correctly maps key codes to common key names

\hypertarget{toc503}{}
\subsubsection{Test suite for HTML element creation}

\begin{lstlisting}
describe('saltos.core.html', ()
\end{lstlisting}

Contains tests for the html utility function

\hypertarget{toc504}{}
\subsubsection{Test single argument usage}

\begin{lstlisting}
test('creates a div with inner HTML when only one argument is passed', ()
\end{lstlisting}

Verifies function creates element from HTML string with optimization

\hypertarget{toc505}{}
\subsubsection{Test two argument usage}

\begin{lstlisting}
test('creates the specified element with inner HTML when two arguments are passed', ()
\end{lstlisting}

Verifies function creates specified element type with content

\hypertarget{toc506}{}
\subsubsection{Test HTML trimming}

\begin{lstlisting}
test('trims the inner HTML before setting it', ()
\end{lstlisting}

Verifies function trims whitespace from HTML content

\hypertarget{toc507}{}
\subsubsection{Test multiple children handling}

\begin{lstlisting}
test('does not optimize if there are multiple children', ()
\end{lstlisting}

Verifies function preserves container element when multiple children exist

\hypertarget{toc508}{}
\subsubsection{Test single child optimization}

\begin{lstlisting}
test('optimizes and returns the single child if present', ()
\end{lstlisting}

Verifies function optimizes by returning single child element directly

\hypertarget{toc509}{}
\subsubsection{Test suite for AJAX functionality}

\begin{lstlisting}
describe('saltos.core.ajax', ()
\end{lstlisting}

Contains comprehensive tests for the core AJAX implementation

\hypertarget{toc510}{}
\subsubsection{Test successful GET request}

\begin{lstlisting}
test('makes a successful GET request and calls success callback', async ()
\end{lstlisting}

Verifies proper request construction and success callback handling

\hypertarget{toc511}{}
\subsubsection{Test error response handling}

\begin{lstlisting}
test('handles non-200 responses and calls error callback', async ()
\end{lstlisting}

Verifies proper error callback invocation for non-200 responses

\hypertarget{toc512}{}
\subsubsection{Test POST request handling}

\begin{lstlisting}
test('makes a POST request with a body', async ()
\end{lstlisting}

Verifies proper construction of POST requests with body content

\hypertarget{toc513}{}
\subsubsection{Test request abortion}

\begin{lstlisting}
test('calls abort callback when request is aborted', async ()
\end{lstlisting}

Verifies proper handling of aborted requests

\hypertarget{toc514}{}
\subsubsection{Test network failure handling}

\begin{lstlisting}
test('calls error callback on network failure', async ()
\end{lstlisting}

Verifies proper error callback invocation for network failures

\hypertarget{toc515}{}
\subsubsection{Test unexpected error handling}

\begin{lstlisting}
test('throws an error for unexpected failures', async ()
\end{lstlisting}

Verifies proper propagation of unexpected errors

\hypertarget{toc516}{}
\subsubsection{Test unsupported method handling}

\begin{lstlisting}
test('throws an error for unsupported HTTP method', ()
\end{lstlisting}

Verifies proper error throwing for unsupported HTTP methods

\hypertarget{toc517}{}
\subsubsection{Test XML response handling}

\begin{lstlisting}
test('handles XML response correctly', async ()
\end{lstlisting}

Verifies proper parsing of XML response content

\hypertarget{toc518}{}
\subsubsection{Test plain text response handling}

\begin{lstlisting}
test('handles plain text response correctly', async ()
\end{lstlisting}

Verifies proper handling of plain text responses

\hypertarget{toc519}{}
\subsubsection{Test key normalization}

\begin{lstlisting}
test('saltos.core.fix_key', ()
\end{lstlisting}

Verifies function properly removes suffixes from keys

\hypertarget{toc520}{}
\subsubsection{Test object copying}

\begin{lstlisting}
test('saltos.core.copy_object', ()
\end{lstlisting}

Verifies function creates proper shallow copies of objects

\hypertarget{toc521}{}
\subsubsection{Test suite for resource loading}

\begin{lstlisting}
describe('saltos.core.require', ()
\end{lstlisting}

Contains tests for the require functionality

\hypertarget{toc522}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Configures fake timers for testing asynchronous operations

\hypertarget{toc523}{}
\subsubsection{Cleanup after each test in this suite}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

Restores real timer implementation

\hypertarget{toc524}{}
\subsubsection{Test JavaScript file loading}

\begin{lstlisting}
test('loads a JavaScript file successfully', async ()
\end{lstlisting}

Verifies proper loading and injection of JavaScript files

\hypertarget{toc525}{}
\subsubsection{Test CSS file loading}

\begin{lstlisting}
test('loads a CSS file successfully', async ()
\end{lstlisting}

Verifies proper loading and injection of CSS files

\hypertarget{toc526}{}
\subsubsection{Test cached resource handling}

\begin{lstlisting}
test('does not reload already loaded files', async ()
\end{lstlisting}

Verifies that already loaded resources are not reloaded

\hypertarget{toc527}{}
\subsubsection{Test pending resource handling}

\begin{lstlisting}
test('waits when file is already loading', async ()
\end{lstlisting}

Verifies proper waiting behavior for resources already being loaded

\hypertarget{toc528}{}
\subsubsection{Test module file loading}

\begin{lstlisting}
test('loads a JavaScript module file successfully', async ()
\end{lstlisting}

Verifies proper handling of JavaScript module files

\hypertarget{toc529}{}
\subsubsection{Test hashed resource loading}

\begin{lstlisting}
test('loads a CSS file with hash successfully', async ()
\end{lstlisting}

Verifies proper handling of resources with cache-busting hashes

\hypertarget{toc530}{}
\subsubsection{Test boolean evaluation}

\begin{lstlisting}
test('saltos.core.eval_bool', ()
\end{lstlisting}

Verifies proper conversion of various values to boolean

\hypertarget{toc531}{}
\subsubsection{Test string conversion}

\begin{lstlisting}
test('saltos.core.toString', ()
\end{lstlisting}

Verifies proper string conversion of various values

\hypertarget{toc532}{}
\subsubsection{Test attribute value detection}

\begin{lstlisting}
test('saltos.core.is_attr_value', ()
\end{lstlisting}

Verifies proper identification of attribute-value objects

\hypertarget{toc533}{}
\subsubsection{Test attribute-value joining}

\begin{lstlisting}
test('saltos.core.join_attr_value', ()
\end{lstlisting}

Verifies proper merging of attribute and value objects

\hypertarget{toc534}{}
\subsubsection{saltos.core.encode\_bad\_chars}

\begin{lstlisting}
test('saltos.core.encode_bad_chars', ()
\end{lstlisting}

This function performs the test of the encode\_bad\_chars function

\hypertarget{toc535}{}
\subsubsection{saltos.core.\_\_get\_code\_from\_file\_and\_line}

\begin{lstlisting}
test('saltos.core.__get_code_from_file_and_line', ()
\end{lstlisting}

This function performs the test of the \_\_get\_code\_from\_file\_and\_line function

\hypertarget{toc536}{}
\subsubsection{saltos.core.timestamp}

\begin{lstlisting}
test('saltos.core.timestamp', ()
\end{lstlisting}

This function performs the test of the timestamp function

\hypertarget{toc537}{}
\subsubsection{saltos.core.human\_size}

\begin{lstlisting}
test('saltos.core.human_size', ()
\end{lstlisting}

This function performs the test of the human\_size function

\hypertarget{toc538}{}
\subsubsection{saltos.core.is\_number}

\begin{lstlisting}
test('saltos.core.is_number', ()
\end{lstlisting}

This function performs the test of the is\_number function

\hypertarget{toc539}{}
\subsubsection{Core Module Tests}

\begin{lstlisting}
describe('Core Module Tests', ()
\end{lstlisting}

This test suite validates the core functionalities of the SaltOS framework,
ensuring that essential features operate correctly under different scenarios.

\hypertarget{toc540}{}
\subsubsection{Test service worker registration}

\begin{lstlisting}
test('Registers service worker if supported and on HTTPS', async ()
\end{lstlisting}

This test checks if the service worker is registered properly when the
browser supports service workers and the application is running over HTTPS.

\hypertarget{toc541}{}
\subsubsection{Test proxy function messaging}

\begin{lstlisting}
test('Proxy function sends message to service worker', ()
\end{lstlisting}

This test ensures that the proxy function sends the correct message
to the service worker's controller using the `postMessage` method.

\hypertarget{toc542}{}
\subsubsection{Test proxy synchronization on online events}

\begin{lstlisting}
test('Triggers proxy sync on online event', ()
\end{lstlisting}

This test verifies that the proxy synchronization is triggered correctly
when the browser's online event is fired.

\hypertarget{toc543}{}
\subsubsection{Test network protocol detection}

\begin{lstlisting}
test('Check network detects protocols correctly', async ()
\end{lstlisting}

This test checks that the `check\_network` function accurately detects
HTTP and HTTPS protocols by simulating network conditions.

\hypertarget{toc544}{}
\subsection{Bootstrap unit tests}

\begin{lstlisting}
test_customers.js
\end{lstlisting}

This file contains the bootstrap unit tests

\hypertarget{toc545}{}
\subsubsection{Puppeteer setup}

\begin{lstlisting}
const puppeteer = require('puppeteer');
\end{lstlisting}

This lines contain the needed setup for run puppeteer and take screenshots

\hypertarget{toc546}{}
\subsubsection{Global variables}

\begin{lstlisting}
let browser;
\end{lstlisting}

This variables contains the browser and page links

\hypertarget{toc547}{}
\subsubsection{Before All}

\begin{lstlisting}
beforeAll(async ()
\end{lstlisting}

This function contains all code executed before all tests, in this case the
features provided by this function includes the launch of the browser, set
the screen size and start the javascript coverage

\hypertarget{toc548}{}
\subsubsection{After All}

\begin{lstlisting}
afterAll(async ()
\end{lstlisting}

This function contains all code executed after all tests, in this case the
features provided by this function include the stop of the javsacript coverage
recording, the save feature to the desired storage path and the browser close

\hypertarget{toc549}{}
\subsubsection{Workflow variables}

\begin{lstlisting}
let testFailed = false;
\end{lstlisting}

This variables allow to control the workflow of the test, the main idea is to
skip all tests when one test fails

\hypertarget{toc550}{}
\subsubsection{Before Each}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

This function contains all code executed before each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc551}{}
\subsubsection{After Each}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

This function contains all code executed after each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc552}{}
\subsubsection{App Customers}

\begin{lstlisting}
describe('App Customers', ()
\end{lstlisting}

This test is intended to validate the correctness of the customers application
by execute the list, more, reset, create, cancel, view, close, edit, back,
insert, update and delete features and validate with the expected screenshot

\hypertarget{toc553}{}
\subsubsection{Action List}

\begin{lstlisting}
test('Action List', async ()
\end{lstlisting}

This part of the test tries to load the list screen

\hypertarget{toc554}{}
\subsubsection{Action List}

\begin{lstlisting}
test('Action More', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the more feature

\hypertarget{toc555}{}
\subsubsection{Action Reset}

\begin{lstlisting}
test('Action Reset', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the reset feature

\hypertarget{toc556}{}
\subsubsection{Action Create}

\begin{lstlisting}
test('Action Create', async ()
\end{lstlisting}

This part of the test tries to load the create screen

\hypertarget{toc557}{}
\subsubsection{Action Cancel}

\begin{lstlisting}
test('Action Cancel', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the cancel feature

\hypertarget{toc558}{}
\subsubsection{Action View}

\begin{lstlisting}
test('Action View', async ()
\end{lstlisting}

This part of the test tries to load the view screen

\hypertarget{toc559}{}
\subsubsection{Action Close}

\begin{lstlisting}
test('Action Close', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the close feature

\hypertarget{toc560}{}
\subsubsection{Action Edit}

\begin{lstlisting}
test('Action Edit', async ()
\end{lstlisting}

This part of the test tries to load the edit screen

\hypertarget{toc561}{}
\subsubsection{Action Go Back}

\begin{lstlisting}
test('Action Go Back', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the go back feature

\hypertarget{toc562}{}
\subsubsection{Action Insert}

\begin{lstlisting}
test('Action Insert', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the insert feature

\hypertarget{toc563}{}
\subsubsection{Action Update}

\begin{lstlisting}
test('Action Update', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the update feature

\hypertarget{toc564}{}
\subsubsection{Action Delete}

\begin{lstlisting}
test('Action Delete', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the delete feature

\hypertarget{toc565}{}
\subsection{Bootstrap unit tests}

\begin{lstlisting}
test_emails.js
\end{lstlisting}

This file contains the bootstrap unit tests

\hypertarget{toc566}{}
\subsubsection{Puppeteer setup}

\begin{lstlisting}
const puppeteer = require('puppeteer');
\end{lstlisting}

This lines contain the needed setup for run puppeteer and take screenshots

\hypertarget{toc567}{}
\subsubsection{Global variables}

\begin{lstlisting}
let browser;
\end{lstlisting}

This variables contains the browser and page links

\hypertarget{toc568}{}
\subsubsection{Before All}

\begin{lstlisting}
beforeAll(async ()
\end{lstlisting}

This function contains all code executed before all tests, in this case the
features provided by this function includes the launch of the browser, set
the screen size and start the javascript coverage

\hypertarget{toc569}{}
\subsubsection{After All}

\begin{lstlisting}
afterAll(async ()
\end{lstlisting}

This function contains all code executed after all tests, in this case the
features provided by this function include the stop of the javsacript coverage
recording, the save feature to the desired storage path and the browser close

\hypertarget{toc570}{}
\subsubsection{Workflow variables}

\begin{lstlisting}
let testFailed = false;
\end{lstlisting}

This variables allow to control the workflow of the test, the main idea is to
skip all tests when one test fails

\hypertarget{toc571}{}
\subsubsection{Before Each}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

This function contains all code executed before each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc572}{}
\subsubsection{After Each}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

This function contains all code executed after each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc573}{}
\subsubsection{App Emails}

\begin{lstlisting}
describe('App Emails', ()
\end{lstlisting}

This test is intended to validate the correctness of the emails application by
execute the list, control+f, profile, help, filter, create and view features and
validate with the expected screenshot

\hypertarget{toc574}{}
\subsubsection{Action List}

\begin{lstlisting}
test('Action List', async ()
\end{lstlisting}

This action tries to sets the emails as new and not new of all emails that
appear in the screen

\hypertarget{toc575}{}
\subsubsection{Action Control F}

\begin{lstlisting}
test('Action Control F', async ()
\end{lstlisting}

This part of the test tries to validate the control+f focus

\hypertarget{toc576}{}
\subsubsection{Action Profile}

\begin{lstlisting}
test('Action Profile', async ()
\end{lstlisting}

This part of the test tries to load the profile screen

\hypertarget{toc577}{}
\subsubsection{Action Help}

\begin{lstlisting}
test('Action Help', async ()
\end{lstlisting}

This part of the test tries to load the help screen

\hypertarget{toc578}{}
\subsubsection{Action Filter}

\begin{lstlisting}
test('Action Filter', async ()
\end{lstlisting}

This part of the test tries to load the filter screen

\hypertarget{toc579}{}
\subsubsection{Action Create}

\begin{lstlisting}
test('Action Create', async ()
\end{lstlisting}

This part of the test tries to load the create screen

\hypertarget{toc580}{}
\subsubsection{Action View}

\begin{lstlisting}
test('Action View', async ()
\end{lstlisting}

This part of the test tries to load the view screen

\hypertarget{toc581}{}
\subsection{Filter unit tests}

\begin{lstlisting}
test_filter.js
\end{lstlisting}

This file contains unit tests for the filter management system
including initialization, loading, saving, and UI interactions

\hypertarget{toc582}{}
\subsubsection{Load all needed files of the project}

\begin{lstlisting}
const files = `app,backup,core,driver,filter,form,gettext,hash,storage,token`.split(',');
\end{lstlisting}

\hypertarget{toc583}{}
\subsubsection{Reset mocks before each test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Ensures all Jest mocks are reset before each test case runs

\hypertarget{toc584}{}
\subsubsection{Restore mocks after each test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

Ensures all Jest mocks are restored to their original implementations
after each test case completes

\hypertarget{toc585}{}
\subsubsection{Test suite for filter initialization}

\begin{lstlisting}
describe('saltos.filter.init()', ()
\end{lstlisting}

Contains tests for initializing the filter cache from server data

\hypertarget{toc586}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Mocks window location and sets up AJAX response for filter data

\hypertarget{toc587}{}
\subsubsection{Test filter cache initialization}

\begin{lstlisting}
test('should initialize filter cache', async ()
\end{lstlisting}

Verifies that the init function makes an AJAX call to load filters
and properly populates the cache

\hypertarget{toc588}{}
\subsubsection{Test cache reuse}

\begin{lstlisting}
test('should not make ajax call if cache is already populated', async ()
\end{lstlisting}

Verifies that subsequent init calls don't make AJAX requests
when cache is already populated

\hypertarget{toc589}{}
\subsubsection{Test suite for filter loading}

\begin{lstlisting}
describe('saltos.filter.load()', ()
\end{lstlisting}

Contains tests for loading filter data into forms and triggering searches

\hypertarget{toc590}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Mocks form data and driver search functions

\hypertarget{toc591}{}
\subsubsection{Test loading existing filter}

\begin{lstlisting}
test('should load filter data and trigger search', ()
\end{lstlisting}

Verifies that loading a filter populates form data
and triggers a search

\hypertarget{toc592}{}
\subsubsection{Test loading non-existent filter}

\begin{lstlisting}
test('should only trigger search if filter not found', ()
\end{lstlisting}

Verifies that loading an unknown filter only triggers search
without modifying form data

\hypertarget{toc593}{}
\subsubsection{Test suite for filter updates}

\begin{lstlisting}
describe('saltos.filter.update()', ()
\end{lstlisting}

Contains tests for updating the local filter cache

\hypertarget{toc594}{}
\subsubsection{Test updating filter cache}

\begin{lstlisting}
test('should update filter cache', ()
\end{lstlisting}

Verifies that update modifies the filter cache correctly

\hypertarget{toc595}{}
\subsubsection{Test suite for filter saving}

\begin{lstlisting}
describe('saltos.filter.save()', ()
\end{lstlisting}

Contains tests for saving filters to both cache and server

\hypertarget{toc596}{}
\subsubsection{Test saving new filter}

\begin{lstlisting}
test('should save new filter to cache and server', ()
\end{lstlisting}

Verifies that new filters are added to cache and saved to server

\hypertarget{toc597}{}
\subsubsection{Test updating existing filter}

\begin{lstlisting}
test('should update existing filter if data changed', ()
\end{lstlisting}

Verifies that modified filters are updated in cache and server

\hypertarget{toc598}{}
\subsubsection{Test unchanged filter}

\begin{lstlisting}
test('should not make server call if data unchanged', ()
\end{lstlisting}

Verifies that unchanged filters don't trigger server updates

\hypertarget{toc599}{}
\subsubsection{Test filter deletion}

\begin{lstlisting}
test('should delete filter when data is null', ()
\end{lstlisting}

Verifies that filters are removed from cache and server when set to null

\hypertarget{toc600}{}
\subsubsection{Test deleting non-existent filter}

\begin{lstlisting}
test('should not delete non-existent filter', ()
\end{lstlisting}

Verifies that attempting to delete unknown filters doesn't trigger server calls

\hypertarget{toc601}{}
\subsubsection{Test suite for filter UI buttons}

\begin{lstlisting}
describe('saltos.filter.button()', ()
\end{lstlisting}

Contains tests for all filter-related UI actions

\hypertarget{toc602}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Sets up DOM elements and mocks filter functions

\hypertarget{toc603}{}
\subsubsection{Test load action}

\begin{lstlisting}
test('should handle load action', ()
\end{lstlisting}

Verifies that load button loads selected filter and resets selection

\hypertarget{toc604}{}
\subsubsection{Test update action}

\begin{lstlisting}
test('should handle update action', ()
\end{lstlisting}

Verifies that update button saves current form data to selected filter

\hypertarget{toc605}{}
\subsubsection{Test delete action}

\begin{lstlisting}
test('should handle delete action', ()
\end{lstlisting}

Verifies that delete button removes selected filter and refreshes UI

\hypertarget{toc606}{}
\subsubsection{Test create action}

\begin{lstlisting}
test('should handle create action', ()
\end{lstlisting}

Verifies that create button saves current form data as new filter

\hypertarget{toc607}{}
\subsubsection{Test rename action}

\begin{lstlisting}
test('should handle rename action', ()
\end{lstlisting}

Verifies that rename button moves filter data to new name
and removes old filter entry

\hypertarget{toc608}{}
\subsubsection{Test invalid action}

\begin{lstlisting}
test('should do nothing for invalid actions', ()
\end{lstlisting}

Verifies that unknown actions don't modify filter cache

\hypertarget{toc609}{}
\subsubsection{Test suite for filter selection UI}

\begin{lstlisting}
describe('saltos.filter.select()', ()
\end{lstlisting}

Contains tests for updating filter dropdown and tree view

\hypertarget{toc610}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Populates filter cache with test data

\hypertarget{toc611}{}
\subsubsection{Test UI update}

\begin{lstlisting}
test('should update select options and jstree', ()
\end{lstlisting}

Verifies that select updates dropdown options and tree view

\hypertarget{toc612}{}
\subsubsection{Test missing tree element}

\begin{lstlisting}
test('should handle missing form elements gracefully', ()
\end{lstlisting}

Verifies graceful handling when tree element is missing

\hypertarget{toc613}{}
\subsubsection{Test missing select element}

\begin{lstlisting}
test('should handle missing select elements gracefully', ()
\end{lstlisting}

Verifies graceful handling when select element is missing

\hypertarget{toc614}{}
\subsubsection{Test missing form elements}

\begin{lstlisting}
test('should handle missing form elements gracefully', ()
\end{lstlisting}

Verifies graceful handling when all form elements are missing

\hypertarget{toc615}{}
\subsection{Core unit tests}

\begin{lstlisting}
test_gettext.js
\end{lstlisting}

This file contains the core unit tests

\hypertarget{toc616}{}
\subsubsection{Load all needed files of the project}

\begin{lstlisting}
const files = `bootstrap,core,gettext,storage`.split(',');
\end{lstlisting}

\hypertarget{toc617}{}
\subsubsection{berofeEach used in this test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

\hypertarget{toc618}{}
\subsubsection{afterEach used in this test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

\hypertarget{toc619}{}
\subsubsection{saltos.gettext.bootstrap.set/get/get\_short/unset}

\begin{lstlisting}
test('saltos.gettext.set/get/get_short/unset', ()
\end{lstlisting}

This function performs the tests of the set/get/get\_short and unset functions

\hypertarget{toc620}{}
\subsubsection{saltos.gettext.bootstrap.field}

\begin{lstlisting}
test('saltos.gettext.bootstrap.field', ()
\end{lstlisting}

This function performs the tests of the field function

\hypertarget{toc621}{}
\subsubsection{saltos.gettext.bootstrap.modal}

\begin{lstlisting}
test('saltos.gettext.bootstrap.modal', ()
\end{lstlisting}

This function performs the tests of the modal function

\hypertarget{toc622}{}
\subsubsection{saltos.gettext.bootstrap.toast}

\begin{lstlisting}
test('saltos.gettext.bootstrap.toast', ()
\end{lstlisting}

This function performs the tests of the toast function

\hypertarget{toc623}{}
\subsubsection{saltos.gettext.bootstrap.menu}

\begin{lstlisting}
test('saltos.gettext.bootstrap.menu', ()
\end{lstlisting}

This function performs the tests of the menu function

\hypertarget{toc624}{}
\subsubsection{saltos.gettext.bootstrap.offcanvas}

\begin{lstlisting}
test('saltos.gettext.bootstrap.offcanvas', ()
\end{lstlisting}

This function performs the tests of the offcanvas function

\hypertarget{toc625}{}
\subsection{Hash unit tests}

\begin{lstlisting}
test_hash.js
\end{lstlisting}

This file contains unit tests for hash management functionality
including hash parsing, manipulation, and event triggering

\hypertarget{toc626}{}
\subsubsection{Load all needed files of the project}

\begin{lstlisting}
const files = `hash`.split(',');
\end{lstlisting}

\hypertarget{toc627}{}
\subsubsection{Reset mocks before each test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Initializes mock implementations for history API functions
and resets all mocks between test cases

\hypertarget{toc628}{}
\subsubsection{Restore mocks after each test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

Restores original implementations of mocked functions
after each test case completes

\hypertarget{toc629}{}
\subsubsection{Test suite for hash helper function}

\begin{lstlisting}
describe('saltos.hash.__helper', ()
\end{lstlisting}

Contains tests for the internal hash normalization function
that cleans hash strings by removing special characters

\hypertarget{toc630}{}
\subsubsection{Test hash with leading \#}

\begin{lstlisting}
test('should remove leading #', ()
\end{lstlisting}

Verifies the helper removes the \# character from the beginning

\hypertarget{toc631}{}
\subsubsection{Test hash with leading /}

\begin{lstlisting}
test('should remove leading /', ()
\end{lstlisting}

Verifies the helper removes the / character from the beginning

\hypertarget{toc632}{}
\subsubsection{Test hash with leading \#/}

\begin{lstlisting}
test('should remove both leading # and /', ()
\end{lstlisting}

Verifies the helper removes both \# and / characters from the beginning

\hypertarget{toc633}{}
\subsubsection{Test empty hash}

\begin{lstlisting}
test('should return empty string for empty input', ()
\end{lstlisting}

Verifies the helper returns empty string for empty input

\hypertarget{toc634}{}
\subsubsection{Test clean hash}

\begin{lstlisting}
test('should not modify clean hash', ()
\end{lstlisting}

Verifies the helper returns unchanged input when no special characters

\hypertarget{toc635}{}
\subsubsection{Test suite for hash getter function}

\begin{lstlisting}
describe('saltos.hash.get', ()
\end{lstlisting}

Contains tests for retrieving the current window hash
with proper formatting

\hypertarget{toc636}{}
\subsubsection{Test getting current hash}

\begin{lstlisting}
test('should return current hash without #', ()
\end{lstlisting}

Verifies the function returns hash without \# prefix

\hypertarget{toc637}{}
\subsubsection{Test getting empty hash}

\begin{lstlisting}
test('should return empty string when no hash', ()
\end{lstlisting}

Verifies the function returns empty string when no hash exists

\hypertarget{toc638}{}
\subsubsection{Test getting hash with leading /}

\begin{lstlisting}
test('should remove leading /', ()
\end{lstlisting}

Verifies the function removes leading / from the hash

\hypertarget{toc639}{}
\subsubsection{Test suite for hash setter function}

\begin{lstlisting}
describe('saltos.hash.set', ()
\end{lstlisting}

Contains tests for replacing the current hash
using history.replaceState

\hypertarget{toc640}{}
\subsubsection{Test setting new hash}

\begin{lstlisting}
test('should set new hash with proper format', ()
\end{lstlisting}

Verifies the function updates hash with proper format
and uses replaceState

\hypertarget{toc641}{}
\subsubsection{Test setting same hash}

\begin{lstlisting}
test('should not set same hash', ()
\end{lstlisting}

Verifies the function doesn't update history when hash doesn't change

\hypertarget{toc642}{}
\subsubsection{Test setting hash with \#}

\begin{lstlisting}
test('should handle hash with #', ()
\end{lstlisting}

Verifies the function properly handles input containing \#

\hypertarget{toc643}{}
\subsubsection{Test setting hash with /}

\begin{lstlisting}
test('should handle hash with /', ()
\end{lstlisting}

Verifies the function properly handles input containing /

\hypertarget{toc644}{}
\subsubsection{Test setting empty hash}

\begin{lstlisting}
test('should handle empty hash', ()
\end{lstlisting}

Verifies the function properly handles empty hash input

\hypertarget{toc645}{}
\subsubsection{Test suite for hash adder function}

\begin{lstlisting}
describe('saltos.hash.add', ()
\end{lstlisting}

Contains tests for adding new hash entries
using history.pushState

\hypertarget{toc646}{}
\subsubsection{Test adding new hash}

\begin{lstlisting}
test('should add new hash with proper format', ()
\end{lstlisting}

Verifies the function updates hash with proper format
and uses pushState

\hypertarget{toc647}{}
\subsubsection{Test adding same hash}

\begin{lstlisting}
test('should not add same hash', ()
\end{lstlisting}

Verifies the function doesn't update history when hash doesn't change

\hypertarget{toc648}{}
\subsubsection{Test adding hash with \#}

\begin{lstlisting}
test('should handle hash with #', ()
\end{lstlisting}

Verifies the function properly handles input containing \#

\hypertarget{toc649}{}
\subsubsection{Test adding hash with /}

\begin{lstlisting}
test('should handle hash with /', ()
\end{lstlisting}

Verifies the function properly handles input containing /

\hypertarget{toc650}{}
\subsubsection{Test adding empty hash}

\begin{lstlisting}
test('should handle empty hash', ()
\end{lstlisting}

Verifies the function properly handles empty hash input

\hypertarget{toc651}{}
\subsubsection{Test suite for URL hash extraction}

\begin{lstlisting}
describe('saltos.hash.url2hash', ()
\end{lstlisting}

Contains tests for extracting hash fragments from URLs

\hypertarget{toc652}{}
\subsubsection{Test extracting hash from URL}

\begin{lstlisting}
test('should extract hash from URL', ()
\end{lstlisting}

Verifies the function extracts hash fragment correctly

\hypertarget{toc653}{}
\subsubsection{Test extracting hash with /}

\begin{lstlisting}
test('should handle URL with / after #', ()
\end{lstlisting}

Verifies the function handles hashes containing /

\hypertarget{toc654}{}
\subsubsection{Test URL without hash}

\begin{lstlisting}
test('should return empty string when no hash', ()
\end{lstlisting}

Verifies the function returns empty string when no hash exists

\hypertarget{toc655}{}
\subsubsection{Test suite for hash change events}

\begin{lstlisting}
describe('saltos.hash.trigger', ()
\end{lstlisting}

Contains tests for triggering hashchange events

\hypertarget{toc656}{}
\subsubsection{Test triggering hash change}

\begin{lstlisting}
test('should dispatch hashchange event', ()
\end{lstlisting}

Verifies the function dispatches a hashchange event

\hypertarget{toc657}{}
\subsection{Bootstrap unit tests}

\begin{lstlisting}
test_invoices.js
\end{lstlisting}

This file contains the bootstrap unit tests

\hypertarget{toc658}{}
\subsubsection{Puppeteer setup}

\begin{lstlisting}
const puppeteer = require('puppeteer');
\end{lstlisting}

This lines contain the needed setup for run puppeteer and take screenshots

\hypertarget{toc659}{}
\subsubsection{Global variables}

\begin{lstlisting}
let browser;
\end{lstlisting}

This variables contains the browser and page links

\hypertarget{toc660}{}
\subsubsection{Before All}

\begin{lstlisting}
beforeAll(async ()
\end{lstlisting}

This function contains all code executed before all tests, in this case the
features provided by this function includes the launch of the browser, set
the screen size and start the javascript coverage

\hypertarget{toc661}{}
\subsubsection{After All}

\begin{lstlisting}
afterAll(async ()
\end{lstlisting}

This function contains all code executed after all tests, in this case the
features provided by this function include the stop of the javsacript coverage
recording, the save feature to the desired storage path and the browser close

\hypertarget{toc662}{}
\subsubsection{Workflow variables}

\begin{lstlisting}
let testFailed = false;
\end{lstlisting}

This variables allow to control the workflow of the test, the main idea is to
skip all tests when one test fails

\hypertarget{toc663}{}
\subsubsection{Before Each}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

This function contains all code executed before each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc664}{}
\subsubsection{After Each}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

This function contains all code executed after each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc665}{}
\subsubsection{App Invoices}

\begin{lstlisting}
describe('App Invoices', ()
\end{lstlisting}

This test is intended to validate the correctness of the invoices application
by execute the list, checkbox, create, view and edit features and validate with
the expected screenshot

\hypertarget{toc666}{}
\subsubsection{Action List}

\begin{lstlisting}
test('Action List', async ()
\end{lstlisting}

This part of the test tries to load the list screen

\hypertarget{toc667}{}
\subsubsection{Action List}

\begin{lstlisting}
test('Action Checkbox', async ()
\end{lstlisting}

This part of the test tries to validate the correctness of the checkbox
feature

\hypertarget{toc668}{}
\subsubsection{Action Create}

\begin{lstlisting}
test('Action Create', async ()
\end{lstlisting}

This part of the test tries to load the create screen

\hypertarget{toc669}{}
\subsubsection{Action View}

\begin{lstlisting}
test('Action View', async ()
\end{lstlisting}

This part of the test tries to load the view screen

\hypertarget{toc670}{}
\subsubsection{Action Edit}

\begin{lstlisting}
test('Action Edit', async ()
\end{lstlisting}

This part of the test tries to load the edit screen

\hypertarget{toc671}{}
\subsection{Proxy unit tests}

\begin{lstlisting}
test_proxy.js
\end{lstlisting}

This file contains the proxy unit tests

\hypertarget{toc672}{}
\subsubsection{berofeEach used in this test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

\hypertarget{toc673}{}
\subsubsection{afterEach used in this test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

\hypertarget{toc674}{}
\subsubsection{Load the needed environment of the proxy part}

\begin{lstlisting}
Object.assign(global, myrequire(
\end{lstlisting}

\hypertarget{toc675}{}
\subsubsection{md5}

\begin{lstlisting}
test('md5', ()
\end{lstlisting}

This function performs the test of the md5 function

\hypertarget{toc676}{}
\subsubsection{human\_size}

\begin{lstlisting}
test('human_size', ()
\end{lstlisting}

This function performs the test of the human\_size function

\hypertarget{toc677}{}
\subsection{Push unit tests}

\begin{lstlisting}
test_push.js
\end{lstlisting}

This file contains unit tests for the push notification functionality
and favicon status updates in the SaltOS framework.

\hypertarget{toc678}{}
\subsubsection{Load all needed files of the project}

\begin{lstlisting}
const files = `app,bootstrap,core,gettext,push,storage,token`.split(',');
\end{lstlisting}

\hypertarget{toc679}{}
\subsubsection{Reset mocks before each test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Ensures all Jest mocks are reset before each test case runs

\hypertarget{toc680}{}
\subsubsection{Restore mocks after each test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

Ensures all Jest mocks are restored to their original implementations
after each test case completes

\hypertarget{toc681}{}
\subsubsection{Test suite for saltos.push.fn functionality}

\begin{lstlisting}
describe('saltos.push.fn', ()
\end{lstlisting}

Contains tests for the push notification system's main function,
including various execution conditions and response handling

\hypertarget{toc682}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Initializes mock implementations and resets push notification state

\hypertarget{toc683}{}
\subsubsection{Test push function when already executing}

\begin{lstlisting}
test('should return early if executing is true', ()
\end{lstlisting}

Verifies that the push function exits early when a push operation
is already in progress

\hypertarget{toc684}{}
\subsubsection{Test push function without token}

\begin{lstlisting}
test('should return early if token is not available', ()
\end{lstlisting}

Verifies that the push function exits early when no authentication
token is available

\hypertarget{toc685}{}
\subsubsection{Test push function when offline}

\begin{lstlisting}
test('should return early if navigator is offline', ()
\end{lstlisting}

Verifies that the push function exits early when the browser
is offline

\hypertarget{toc686}{}
\subsubsection{Test push function with positive count}

\begin{lstlisting}
test('should return early if count is greater than or equal to 0', ()
\end{lstlisting}

Verifies that the push function exits early when the countdown
counter hasn't reached zero

\hypertarget{toc687}{}
\subsubsection{Test push function with successful response}

\begin{lstlisting}
test('should call ajax and handle success response', ()
\end{lstlisting}

Verifies that the push function makes an AJAX call and properly
handles a successful response

\hypertarget{toc688}{}
\subsubsection{Test push function with error response}

\begin{lstlisting}
test('should handle error response', ()
\end{lstlisting}

Verifies that the push function properly handles an error response
from the server

\hypertarget{toc689}{}
\subsubsection{Test suite for saltos.favicon.fn functionality}

\begin{lstlisting}
describe('saltos.favicon.fn', ()
\end{lstlisting}

Contains tests for the favicon status update functionality,
including visibility state handling

\hypertarget{toc690}{}
\subsubsection{Test favicon function activation}

\begin{lstlisting}
test('should start interval if bool is true and executing is false', ()
\end{lstlisting}

Verifies that the favicon update interval starts when
the function is activated

\hypertarget{toc691}{}
\subsubsection{Test favicon function deactivation}

\begin{lstlisting}
test('should clear interval if bool is false and executing is true', ()
\end{lstlisting}

Verifies that the favicon update interval stops when
the function is deactivated

\hypertarget{toc692}{}
\subsection{Storage unit tests}

\begin{lstlisting}
test_storage.js
\end{lstlisting}

This file contains the storage unit tests

\hypertarget{toc693}{}
\subsubsection{Load all needed files of the project}

\begin{lstlisting}
const files = `core,storage`.split(',');
\end{lstlisting}

\hypertarget{toc694}{}
\subsubsection{berofeEach used in this test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

\hypertarget{toc695}{}
\subsubsection{afterEach used in this test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

\hypertarget{toc696}{}
\subsubsection{saltos.storage}

\begin{lstlisting}
test('saltos.storage', ()
\end{lstlisting}

This function performs the test of the storage functions

\hypertarget{toc697}{}
\subsection{Bootstrap unit tests}

\begin{lstlisting}
test_tester.js
\end{lstlisting}

This file contains the bootstrap unit tests

\hypertarget{toc698}{}
\subsubsection{Puppeteer setup}

\begin{lstlisting}
const puppeteer = require('puppeteer');
\end{lstlisting}

This lines contain the needed setup for run puppeteer and take screenshots

\hypertarget{toc699}{}
\subsubsection{Global variables}

\begin{lstlisting}
let browser;
\end{lstlisting}

This variables contains the browser and page links

\hypertarget{toc700}{}
\subsubsection{Before All}

\begin{lstlisting}
beforeAll(async ()
\end{lstlisting}

This function contains all code executed before all tests, in this case the
features provided by this function includes the launch of the browser, set
the screen size and start the javascript coverage

\hypertarget{toc701}{}
\subsubsection{After All}

\begin{lstlisting}
afterAll(async ()
\end{lstlisting}

This function contains all code executed after all tests, in this case the
features provided by this function include the stop of the javsacript coverage
recording, the save feature to the desired storage path and the browser close

\hypertarget{toc702}{}
\subsubsection{Workflow variables}

\begin{lstlisting}
let testFailed = false;
\end{lstlisting}

This variables allow to control the workflow of the test, the main idea is to
skip all tests when one test fails

\hypertarget{toc703}{}
\subsubsection{Before Each}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

This function contains all code executed before each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc704}{}
\subsubsection{After Each}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

This function contains all code executed after each test, in this case the
features provided by this function includes the control of the workflow

\hypertarget{toc705}{}
\subsubsection{App Tester}

\begin{lstlisting}
describe('App Tester', ()
\end{lstlisting}

This test is intended to validate the correctness of the tester application
by execute the init, disabled, enabled, all bs\_themes and all css\_themes and
validate with the expected screenshot

\hypertarget{toc706}{}
\subsubsection{Action Init}

\begin{lstlisting}
test('Action Init', async ()
\end{lstlisting}

This part of the test tries to initialize the tester screen by provide a
valid credentials and loads the tester application

\hypertarget{toc707}{}
\subsubsection{Action Disabled}

\begin{lstlisting}
test('Action Disabled', async ()
\end{lstlisting}

This part of the test tries to disable all widgets

\hypertarget{toc708}{}
\subsubsection{Action Enabled}

\begin{lstlisting}
test('Action Enabled', async ()
\end{lstlisting}

This part of the test tries to enable all widgets

\hypertarget{toc709}{}
\subsubsection{List of bs\_themes}

\begin{lstlisting}
const bs_themes = ['light', 'dark', 'auto'];
\end{lstlisting}

\hypertarget{toc710}{}
\subsubsection{Action Bs Theme}

\begin{lstlisting}
test.each(bs_themes)('Action Bs Theme %s', async theme
\end{lstlisting}

This part of the test tries to set the differents bs\_themes

\hypertarget{toc711}{}
\subsubsection{List of css\_themes}

\begin{lstlisting}
const css_themes = ['default', 'cerulean', 'cyborg', 'darkly', 'flatly', 'journal', 'litera', 'lumen',
\end{lstlisting}

\hypertarget{toc712}{}
\subsubsection{Action Css Theme}

\begin{lstlisting}
test.each(css_themes)('Action Css Theme %s', async theme
\end{lstlisting}

This part of the test tries to set the differents css\_themes

\hypertarget{toc713}{}
\subsection{Token unit tests}

\begin{lstlisting}
test_token.js
\end{lstlisting}

This file contains the token unit tests

\hypertarget{toc714}{}
\subsubsection{Load all needed files of the project}

\begin{lstlisting}
const files = `core,storage,token`.split(',');
\end{lstlisting}

\hypertarget{toc715}{}
\subsubsection{berofeEach used in this test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

\hypertarget{toc716}{}
\subsubsection{afterEach used in this test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

\hypertarget{toc717}{}
\subsubsection{saltos.token}

\begin{lstlisting}
test('saltos.token', ()
\end{lstlisting}

This function performs the test of the token functions

\hypertarget{toc718}{}
\subsection{Window unit tests}

\begin{lstlisting}
test_window.js
\end{lstlisting}

This file contains unit tests for window management functionality
including window opening/closing and cross-tab communication

\hypertarget{toc719}{}
\subsubsection{Load all needed files of the project}

\begin{lstlisting}
const files = `core,storage,window`.split(',');
\end{lstlisting}

\hypertarget{toc720}{}
\subsubsection{Reset mocks before each test}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Ensures all Jest mocks are reset before each test case runs

\hypertarget{toc721}{}
\subsubsection{Restore mocks after each test}

\begin{lstlisting}
afterEach(()
\end{lstlisting}

Ensures all Jest mocks are restored to their original implementations
after each test case completes

\hypertarget{toc722}{}
\subsubsection{Test suite for window open/close functionality}

\begin{lstlisting}
describe('saltos.window.open/close', ()
\end{lstlisting}

Contains tests for opening new windows with different URL types
and closing the current window

\hypertarget{toc723}{}
\subsubsection{Setup before each test in this suite}

\begin{lstlisting}
beforeEach(()
\end{lstlisting}

Mocks window.open and window.close functions

\hypertarget{toc724}{}
\subsubsection{Test opening app URLs}

\begin{lstlisting}
test('should call window.open with the app prefix', ()
\end{lstlisting}

Verifies that app URLs are properly prefixed with .\#/
when opening new windows

\hypertarget{toc725}{}
\subsubsection{Test opening HTTP URLs}

\begin{lstlisting}
test('should call window.open with the http prefix', ()
\end{lstlisting}

Verifies that HTTP URLs are passed through unchanged
when opening new windows

\hypertarget{toc726}{}
\subsubsection{Test opening HTTPS URLs}

\begin{lstlisting}
test('should call window.open with the https prefix', ()
\end{lstlisting}

Verifies that HTTPS URLs are passed through unchanged
when opening new windows

\hypertarget{toc727}{}
\subsubsection{Test unsupported URL protocols}

\begin{lstlisting}
test('should throw an error when call window.open with non supported protocol', ()
\end{lstlisting}

Verifies that attempting to open URLs with unsupported protocols
throws an error

\hypertarget{toc728}{}
\subsubsection{Test window closing}

\begin{lstlisting}
test('should call window.close', ()
\end{lstlisting}

Verifies that the close function properly calls window.close

\hypertarget{toc729}{}
\subsubsection{Test suite for window event listeners}

\begin{lstlisting}
describe('saltos.window.listeners', ()
\end{lstlisting}

Contains tests for cross-tab communication functionality
including setting listeners and sending events between tabs

\hypertarget{toc730}{}
\subsubsection{Test setting event listeners}

\begin{lstlisting}
test('set_listener should add a listener for a specific event', ()
\end{lstlisting}

Verifies that listeners can be registered for specific events

\hypertarget{toc731}{}
\subsubsection{Test removing event listeners}

\begin{lstlisting}
test('unset_listener should remove a listener for a specific event', ()
\end{lstlisting}

Verifies that listeners can be removed for specific events

\hypertarget{toc732}{}
\subsubsection{Test sending events to current tab}

\begin{lstlisting}
test('send should trigger the listener in the same tab when scope is "me"', ()
\end{lstlisting}

Verifies that events with "me" scope only trigger callbacks
in the current tab

\hypertarget{toc733}{}
\subsubsection{Test sending events to other tabs}

\begin{lstlisting}
test('send should trigger the listener in other tabs when scope is "other"', ()
\end{lstlisting}

Verifies that events with "other" scope trigger callbacks
in other tabs through localStorage events

\hypertarget{toc734}{}
\subsubsection{Test sending events to all tabs}

\begin{lstlisting}
test('send should trigger the listener in all tabs when scope is "all"', ()
\end{lstlisting}

Verifies that events with "all" scope trigger callbacks
in all tabs including the current one

\hypertarget{toc735}{}
\subsubsection{Test sessionStorage event filtering}

\begin{lstlisting}
test('storage event listener should not trigger if the event is not from localStorage', ()
\end{lstlisting}

Verifies that events from sessionStorage don't trigger
the cross-tab communication callbacks

\hypertarget{toc736}{}
\subsubsection{Test event key filtering}

\begin{lstlisting}
test('storage event listener should not trigger if the key does not match', ()
\end{lstlisting}

Verifies that events with incorrect keys don't trigger
the cross-tab communication callbacks

\hypertarget{toc737}{}
\subsubsection{Test unregistered event filtering}

\begin{lstlisting}
test('storage event listener should not trigger if the event name is not in listeners', ()
\end{lstlisting}

Verifies that events for unregistered event names don't trigger
any callbacks

% LaTeX2e code generated by txt2tags 3.4 (http://txt2tags.org)
% cmdline: txt2tags --toc -t tex -i utest.t2t -o utest.tex
\end{document}
